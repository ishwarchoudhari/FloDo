{
  "version": 3,
  "sources": ["../../js/dashboard.js"],
  "sourcesContent": ["// dashboard.js\r\n// CRUD and data fetching for dashboard tables.\r\n\r\n// Escape HTML special characters to mitigate XSS when using innerHTML\r\nfunction esc(s){\r\n  try {\r\n    return String(s)\r\n      .replace(/&/g,'&amp;')\r\n      .replace(/</g,'&lt;')\r\n      .replace(/>/g,'&gt;')\r\n      .replace(/\"/g,'&quot;')\r\n      .replace(/'/g,'&#39;');\r\n  } catch(_) { return s; }\r\n}\r\n\r\n// Robust CSRF token getter (mirrors admin_management.js behavior)\r\nfunction csrf(){\r\n  try {\r\n    if (typeof window.getCookie === 'function'){\r\n      const v = window.getCookie('csrftoken');\r\n      if (v) return v;\r\n    }\r\n    const name = 'csrftoken=';\r\n    const parts = (document.cookie || '').split(';');\r\n    for (let i=0;i<parts.length;i++){\r\n      const c = parts[i].trim();\r\n      if (c.startsWith(name)) return decodeURIComponent(c.substring(name.length));\r\n    }\r\n    try {\r\n      const el = document.querySelector('input[name=\"csrfmiddlewaretoken\"]');\r\n      if (el && el.value) return String(el.value);\r\n    } catch(_){ }\r\n    return '';\r\n  } catch(_){ return ''; }\r\n}\r\n\r\n\r\nasync function fetchTableData(tableId, page=1, q='') {\r\n  const url = `/dashboard/api/table/${tableId}/?page=${page}&per_page=10&q=${encodeURIComponent(q)}`;\r\n  const res = await fetch(url, { credentials: 'same-origin', headers: { 'X-Requested-With': 'XMLHttpRequest' } });\r\n  if (res.status === 403) return { success: false, error: 'Forbidden' };\r\n  return res.json();\r\n}\r\n\r\nfunction updateTableDisplay(tableId, payload){\r\n  const tbody = document.querySelector(`#table-${tableId} tbody`);\r\n  if (!tbody) return;\r\n  tbody.innerHTML = '';\r\n  (payload.results || []).forEach(row => {\r\n    // Ensure we have a displayable unique id using frontend mapping if backend omitted it\r\n    const fallbackKey = row.unique_id || row.id || row.pk || `${row.name}|${row.city}|${row.phone}`;\r\n    const uid = window.getPersistentUID ? window.getPersistentUID(`t${tableId}:${fallbackKey}`) : (row.unique_id || fallbackKey);\r\n    const realId = row.id || row.pk || row.unique_id; // backend primary key for CRUD\r\n    const tr = document.createElement('tr');\r\n    tr.className = 'border-b';\r\n    tr.innerHTML = `\r\n      <td class=\"py-2 pr-2\">${esc(uid)}</td>\r\n      <td class=\"py-2 pr-2\"><span data-field=\"name\" class=\"block\">${esc(row.name ?? '')}</span></td>\r\n      <td class=\"py-2 pr-2\"><span data-field=\"city\" class=\"block\">${esc(row.city ?? '')}</span></td>\r\n      <td class=\"py-2 pr-2\"><span data-field=\"phone\" class=\"block\">${esc(row.phone ?? '')}</span></td>\r\n      <td class=\"py-2 pr-2 space-x-2 whitespace-nowrap\">\r\n        <button class=\"px-2 py-1 bg-gray-700 text-white rounded focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-700\" data-action=\"edit\" data-id=\"${realId}\" aria-label=\"Edit row ${uid}\">Edit</button>\r\n        <button class=\"px-2 py-1 bg-red-600 text-white rounded hidden focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-600\" data-action=\"delete\" data-id=\"${realId}\" aria-label=\"Delete row ${uid}\">Delete</button>\r\n        <button class=\"px-2 py-1 bg-blue-600 text-white rounded hidden focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-600\" data-action=\"save\" data-id=\"${realId}\" aria-label=\"Save changes to row ${uid}\">Save</button>\r\n      </td>`;\r\n    tbody.appendChild(tr);\r\n  });\r\n\r\n  // Helpers for edit mode UX\r\n  function exitEditMode(tr){\r\n    if (!tr) return;\r\n    tr.classList.remove('bg-yellow-50');\r\n    // convert inputs back to spans and clear state\r\n    tr.querySelectorAll('td').forEach(td => {\r\n      const input = td.querySelector('input[data-field]');\r\n      if (input) {\r\n        const val = input.value;\r\n        const field = input.dataset.field;\r\n        // Rebuild using DOM to avoid innerHTML\r\n        td.innerHTML = '';\r\n        const sp = document.createElement('span');\r\n        sp.setAttribute('data-field', field);\r\n        sp.className = 'block';\r\n        sp.textContent = val;\r\n        td.appendChild(sp);\r\n      }\r\n    });\r\n    const btnEdit = tr.querySelector('button[data-action=\"edit\"]');\r\n    const btns = tr.querySelectorAll('button[data-action=\"delete\"], button[data-action=\"save\"]');\r\n    if (btnEdit) btnEdit.classList.remove('hidden');\r\n    btns.forEach(b => b.classList.add('hidden'));\r\n    tr.classList.remove('editing');\r\n  }\r\n\r\n  function enterEditMode(tr){\r\n    // ensure only one row is editing\r\n    const current = tr.closest('tbody').querySelector('tr.editing');\r\n    if (current && current !== tr) exitEditMode(current);\r\n    tr.classList.add('editing', 'bg-yellow-50');\r\n    // swap spans -> inputs for editable fields\r\n    tr.querySelectorAll('span[data-field]').forEach(sp => {\r\n      const field = sp.getAttribute('data-field');\r\n      const val = sp.textContent || '';\r\n      const td = sp.parentElement;\r\n      // Build input safely\r\n      td.innerHTML = '';\r\n      const inp = document.createElement('input');\r\n      inp.className = 'border rounded px-2 py-1 w-full';\r\n      inp.value = val;\r\n      inp.setAttribute('data-field', field);\r\n      td.appendChild(inp);\r\n    });\r\n    const btnEdit = tr.querySelector('button[data-action=\"edit\"]');\r\n    const btns = tr.querySelectorAll('button[data-action=\"delete\"], button[data-action=\"save\"]');\r\n    if (btnEdit) btnEdit.classList.add('hidden');\r\n    btns.forEach(b => b.classList.remove('hidden'));\r\n    // focus first input\r\n    const first = tr.querySelector('input[data-field]');\r\n    if (first) first.focus();\r\n    // keyboard shortcuts\r\n    tr.querySelectorAll('input[data-field]').forEach(i => {\r\n      i.onkeydown = (e) => {\r\n        e = e || window.event;\r\n        if (e.key === 'Enter') {\r\n          const saveBtn = tr.querySelector('button[data-action=\"save\"]');\r\n          if (saveBtn) saveBtn.click();\r\n        } else if (e.key === 'Escape') {\r\n          exitEditMode(tr);\r\n        }\r\n      };\r\n    });\r\n    // Inform global auto-refresh controller that a form is now active (pause timer)  // added\r\n    if (typeof window.noteTablesFormActivity === 'function') window.noteTablesFormActivity();  // added\r\n  }\r\n\r\n  // Wire actions\r\n  // Edit toggles read-only -> editable and reveals buttons\r\n  tbody.querySelectorAll('button[data-action=\"edit\"]').forEach(btn => {\r\n    btn.addEventListener('click', () => {\r\n      const tr = btn.closest('tr');\r\n      enterEditMode(tr);\r\n    });\r\n  });\r\n\r\n  // Save\r\n  tbody.querySelectorAll('button[data-action=\"save\"]').forEach(btn => {\r\n    btn.addEventListener('click', async () => {\r\n      const rowId = btn.getAttribute('data-id');\r\n      const tr = btn.closest('tr');\r\n      const inputs = tr.querySelectorAll('input[data-field]');\r\n      // Frontend validation: Name/City letters+spaces; Phone 10 digits\r\n      const nameVal = tr.querySelector('input[data-field=\"name\"]')?.value?.trim() || '';\r\n      const cityVal = tr.querySelector('input[data-field=\"city\"]')?.value?.trim() || '';\r\n      const phoneVal = tr.querySelector('input[data-field=\"phone\"]')?.value?.trim() || '';\r\n      const nameOk = /^[A-Za-z ]+$/.test(nameVal) && nameVal.length > 0;\r\n      const cityOk = /^[A-Za-z ]+$/.test(cityVal) && cityVal.length > 0;\r\n      const phoneOk = /^\\d{10}$/.test(phoneVal);\r\n      if (!nameOk || !cityOk || !phoneOk){\r\n        let msg = 'Validation failed:';\r\n        if (!nameOk) msg += ' Name must contain only letters and spaces.';\r\n        if (!cityOk) msg += ' City must contain only letters and spaces.';\r\n        if (!phoneOk) msg += ' Phone must be exactly 10 digits.';\r\n        if (typeof showNotification === 'function') showNotification('Invalid input', 'error', msg.trim());\r\n        return;\r\n      }\r\n      const data = new FormData();\r\n      inputs.forEach(i => data.append(i.dataset.field, i.value.trim()))\r\n      // prevent double clicks\r\n      const prevText = btn.textContent;\r\n      btn.disabled = true;\r\n      btn.setAttribute('aria-busy', 'true');\r\n      btn.textContent = 'Saving...';\r\n      btn.classList.add('opacity-50','cursor-not-allowed');\r\n      const res = await updateTableRow(tableId, rowId, data);\r\n      btn.disabled = false;\r\n      btn.removeAttribute('aria-busy');\r\n      btn.textContent = prevText;\r\n      btn.classList.remove('opacity-50','cursor-not-allowed');\r\n      if (res.success) {\r\n        const d = res.data || {};\r\n        const details = `Row #${d.id || rowId}: ${[d.name||'', d.city||'', d.phone||''].filter(Boolean).join(' \u2022 ')}`;\r\n        showNotification('Saved', 'success', details);\r\n        // exit edit mode immediately; then refresh to reflect any server-side changes\r\n        exitEditMode(tr);\r\n        if (typeof refreshLogs === 'function') refreshLogs();\r\n        // Trigger notifications bump for near-instant bell/log update\r\n        try { if (typeof window.bumpNotificationsNow === 'function') window.bumpNotificationsNow(); } catch(_){ }\r\n        // [AI PATCH] resume polling immediately after successful Save\r\n        try { if (typeof window.__tablesPauseUntil !== 'undefined') { window.__tablesPauseUntil = 0; }\r\n          if (window.__tablesInactivityTimer) { clearTimeout(window.__tablesInactivityTimer); window.__tablesInactivityTimer = null; }\r\n        } catch(_){ }\r\n      } else {\r\n        showNotification('Save failed','error', res.error || '');\r\n      }\r\n      refreshTable(tableId);\r\n    });\r\n  });\r\n\r\n  // Delete\r\n  tbody.querySelectorAll('button[data-action=\"delete\"]').forEach(btn => {\r\n    btn.addEventListener('click', async () => {\r\n      const rowId = btn.getAttribute('data-id');\r\n      const ok = window.confirm('Delete row ' + rowId + '? This action cannot be undone.');\r\n      if (!ok) return;\r\n      const prevText = btn.textContent;\r\n      btn.disabled = true;\r\n      btn.setAttribute('aria-busy', 'true');\r\n      btn.textContent = 'Deleting...';\r\n      btn.classList.add('opacity-50','cursor-not-allowed');\r\n      const res = await deleteTableRow(tableId, rowId);\r\n      btn.disabled = false;\r\n      btn.removeAttribute('aria-busy');\r\n      btn.textContent = prevText;\r\n      btn.classList.remove('opacity-50','cursor-not-allowed');\r\n      if (res.success) {\r\n        const details = `Row #${rowId}`;\r\n        showNotification('Deleted', 'success', details);\r\n        if (typeof refreshLogs === 'function') refreshLogs();\r\n        // Trigger notifications bump for near-instant bell/log update\r\n        try { if (typeof window.bumpNotificationsNow === 'function') window.bumpNotificationsNow(); } catch(_){ }\r\n        // [AI PATCH] resume polling immediately after successful Delete\r\n        try { if (typeof window.__tablesPauseUntil !== 'undefined') { window.__tablesPauseUntil = 0; }\r\n          if (window.__tablesInactivityTimer) { clearTimeout(window.__tablesInactivityTimer); window.__tablesInactivityTimer = null; }\r\n        } catch(_){ }\r\n      } else {\r\n        showNotification('Delete failed','error', res.error || '');\r\n      }\r\n      refreshTable(tableId);\r\n    });\r\n  });\r\n\r\n  // Per-row ADD removed; use the top add form\r\n\r\n  const pag = document.getElementById(`pagination-${tableId}`);\r\n  if (pag) pag.textContent = `Page ${payload.page} of ${payload.num_pages} \u2014 Total ${payload.total}`;\r\n}\r\n\r\nasync function createTableRow(tableId, rowData){\r\n  try { rowData.append('csrfmiddlewaretoken', csrf()); } catch(_){ }\r\n  const doFetch = () => fetch(`/dashboard/api/table/${tableId}/row/`, {\r\n    method: 'POST',\r\n    headers: { 'X-CSRFToken': csrf(), 'X-Requested-With': 'XMLHttpRequest' },\r\n    credentials: 'same-origin',\r\n    body: rowData,\r\n  });\r\n  const res = await (window.withLoading ? window.withLoading(doFetch()) : doFetch());\r\n  return res.json();\r\n}\r\n\r\nasync function updateTableRow(tableId, rowId, rowData){\r\n  // Use POST + _method=PUT for better compatibility with Django's CSRF/form parsing\r\n  rowData = rowData || new FormData();\r\n  rowData.append('_method', 'PUT');\r\n  try { rowData.append('csrfmiddlewaretoken', csrf()); } catch(_){ }\r\n  const doFetch = () => fetch(`/dashboard/api/table/${tableId}/row/${rowId}/`, {\r\n    method: 'POST',\r\n    headers: { 'X-CSRFToken': csrf(), 'X-Requested-With': 'XMLHttpRequest' },\r\n    credentials: 'same-origin',\r\n    body: rowData,\r\n  });\r\n  const res = await (window.withLoading ? window.withLoading(doFetch()) : doFetch());\r\n  return res.json();\r\n}\r\n\r\nasync function deleteTableRow(tableId, rowId){\r\n  // Use POST + _method=DELETE\r\n  const fd = new FormData();\r\n  fd.append('_method', 'DELETE');\r\n  try { fd.append('csrfmiddlewaretoken', csrf()); } catch(_){ }\r\n  const doFetch = () => fetch(`/dashboard/api/table/${tableId}/row/${rowId}/`, {\r\n    method: 'POST',\r\n    headers: { 'X-CSRFToken': csrf(), 'X-Requested-With': 'XMLHttpRequest' },\r\n    credentials: 'same-origin',\r\n    body: fd,\r\n  });\r\n  const res = await (window.withLoading ? window.withLoading(doFetch()) : doFetch());\r\n  return res.json();\r\n}\r\n\r\nasync function refreshTable(tableId){\r\n  const q = document.getElementById(`search-${tableId}`)?.value || '';\r\n  const payload = await fetchTableData(tableId, 1, q);\r\n  if (payload.success) updateTableDisplay(tableId, payload);\r\n}\r\n\r\n// Switch current active table, sync picker UI, and load data (CSP-safe replacement for inline handlers)\r\nfunction setActiveTable(value){\r\n  try {\r\n    const tid = parseInt(value, 10) || 1;\r\n    const picker = document.getElementById('tablePicker');\r\n    if (picker) picker.value = String(tid);\r\n    // Table 1 (Admins) is not available via generic tables API.\r\n    // To keep UX smooth and avoid surprise navigation, default to Table 2 on Tables page.\r\n    if (tid === 1) {\r\n      const fallbackTid = 2;\r\n      if (picker) picker.value = String(fallbackTid);\r\n      try { if (typeof showNotification === 'function') showNotification('Table 1 is managed in Admin Management. Showing Table 2 here.', 'info'); } catch(_){ }\r\n      if (typeof refreshTable === 'function') refreshTable(fallbackTid);\r\n      return;\r\n    }\r\n    // Sync custom display text and active option\r\n    try {\r\n      const wrapper = document.getElementById('tablePickerWrapper');\r\n      const selectedText = document.getElementById('tablePickerSelectedText');\r\n      const list = document.getElementById('tablePickerList');\r\n      let labels = {};\r\n      try { labels = JSON.parse(wrapper?.getAttribute('data-label-map') || '{}'); } catch(_) { labels = {}; }\r\n      const label = labels[String(tid)] || (`Table ${tid}`);\r\n      if (selectedText) selectedText.textContent = label;\r\n      if (list) {\r\n        list.querySelectorAll('li[role=\"option\"]').forEach(li => {\r\n          const v = li.getAttribute('data-value');\r\n          li.classList.toggle('active', String(v) === String(tid));\r\n        });\r\n      }\r\n      const info = document.getElementById('activeTableInfo');\r\n      if (info) info.textContent = `Active: ${label}`;\r\n    } catch(_){}\r\n    // Toggle visible table card\r\n    try {\r\n      document.querySelectorAll('[data-table-card]').forEach(card => {\r\n        const v = parseInt(card.getAttribute('data-table-card'), 10);\r\n        if (v === tid) card.classList.remove('hidden'); else card.classList.add('hidden');\r\n      });\r\n    } catch(_){}\r\n    if (typeof refreshTable === 'function') refreshTable(tid);\r\n  } catch(_){}\r\n}\r\n\r\nfunction addRow(tableId){\r\n  const nameEl = document.getElementById(`add-name-${tableId}`);\r\n  const cityEl = document.getElementById(`add-city-${tableId}`);\r\n  const phoneEl = document.getElementById(`add-phone-${tableId}`);\r\n  const name = (nameEl?.value || '').trim();\r\n  const city = (cityEl?.value || '').trim();\r\n  const phone = (phoneEl?.value || '').trim();\r\n  // Frontend validation\r\n  const nameOk = /^[A-Za-z ]+$/.test(name) && name.length > 0;\r\n  const cityOk = /^[A-Za-z ]+$/.test(city) && city.length > 0;\r\n  const phoneOk = /^\\d{10}$/.test(phone);\r\n  if (!nameOk || !cityOk || !phoneOk){\r\n    let msg = 'Validation failed:';\r\n    if (!nameOk) msg += ' Name must contain only letters and spaces.';\r\n    if (!cityOk) msg += ' City must contain only letters and spaces.';\r\n    if (!phoneOk) msg += ' Phone must be exactly 10 digits.';\r\n    if (typeof showNotification === 'function') showNotification('Invalid input', 'error', msg.trim());\r\n    if (nameEl) nameEl.focus();\r\n    return;\r\n  }\r\n  const data = new FormData();\r\n  data.append('name', name || '');\r\n  data.append('city', city || '');\r\n  data.append('phone', phone || '');\r\n\r\n  // Find the Add button near the inputs and guard against double submits\r\n  const container = nameEl ? nameEl.closest('div') : null;\r\n  const btn = container ? container.querySelector('button') : null;\r\n  const prevText = btn ? btn.textContent : '';\r\n  if (btn) {\r\n    btn.disabled = true;\r\n    btn.setAttribute('aria-busy', 'true');\r\n    btn.textContent = 'Adding...';\r\n    btn.classList.add('opacity-50','cursor-not-allowed');\r\n  }\r\n  if (nameEl) nameEl.disabled = true;\r\n  if (cityEl) cityEl.disabled = true;\r\n  if (phoneEl) phoneEl.disabled = true;\r\n\r\n  createTableRow(tableId, data).then(res => {\r\n    if (res.success) {\r\n      const d = res.data || {};\r\n      const details = `Row #${d.id || ''}: ${[d.name||'', d.city||'', d.phone||''].filter(Boolean).join(' \u2022 ')}`;\r\n      showNotification('Row added', 'success', details);\r\n      // Trigger notifications bump for near-instant bell/log update\r\n      try { if (typeof window.bumpNotificationsNow === 'function') window.bumpNotificationsNow(); } catch(_){ }\r\n      // [AI PATCH] resume polling immediately after successful Add\r\n      try { if (typeof window.__tablesPauseUntil !== 'undefined') { window.__tablesPauseUntil = 0; }\r\n        if (window.__tablesInactivityTimer) { clearTimeout(window.__tablesInactivityTimer); window.__tablesInactivityTimer = null; }\r\n      } catch(_){ }\r\n      refreshTable(tableId);\r\n      if (typeof refreshLogs === 'function') refreshLogs();\r\n      // clear inputs and focus name for quicker entry\r\n      if (nameEl) nameEl.value = '';\r\n      if (cityEl) cityEl.value = '';\r\n      if (phoneEl) phoneEl.value = '';\r\n      if (nameEl) nameEl.focus();\r\n    } else {\r\n      showNotification('Add failed', 'error', res.error || '');\r\n    }\r\n  }).catch(() => {\r\n    showNotification('Add failed', 'error', 'Network error');\r\n  }).finally(() => {\r\n    if (btn) {\r\n      btn.disabled = false;\r\n      btn.removeAttribute('aria-busy');\r\n      btn.textContent = prevText || 'Add';\r\n      btn.classList.remove('opacity-50','cursor-not-allowed');\r\n    }\r\n    if (nameEl) nameEl.disabled = false;\r\n    if (cityEl) cityEl.disabled = false;\r\n    if (phoneEl) phoneEl.disabled = false;\r\n  });\r\n}\r\n\r\nasync function refreshLogs(){\r\n  // Respect active filter chip if present (empty => All)\r\n  let tableFilter = '';\r\n  try {\r\n    const active = document.querySelector('[data-log-filter].is-active');\r\n    if (active) tableFilter = active.getAttribute('data-log-filter') || '';\r\n  } catch(_) { tableFilter = ''; }\r\n  const qp = new URLSearchParams();\r\n  qp.set('per_page', '10');\r\n  if (tableFilter) qp.set('table_name', tableFilter);\r\n  const res = await fetch(`/dashboard/api/logs/?${qp.toString()}`, { headers: { 'X-Requested-With': 'XMLHttpRequest' }, credentials: 'same-origin' });\r\n  const payload = await res.json();\r\n  const tbody = document.querySelector('#logs-table tbody');\r\n  tbody.innerHTML = '';\r\n  (payload.results||[]).forEach(x => {\r\n    const tr = document.createElement('tr');\r\n    tr.className = 'border-b';\r\n    tr.innerHTML = `\r\n      <td class=\"py-2 pr-2\">${esc(x.timestamp)}</td>\r\n      <td class=\"py-2 pr-2\">${esc(x.table_name)}</td>\r\n      <td class=\"py-2 pr-2\">${esc(x.action)}</td>\r\n      <td class=\"py-2 pr-2\">${esc(x.row_id)}</td>\r\n      <td class=\"py-2 pr-2\">${esc(x.admin_user || '-')}</td>`;\r\n    tbody.appendChild(tr);\r\n  });\r\n}\r\n\r\nwindow.fetchTableData = fetchTableData;\r\nwindow.updateTableDisplay = updateTableDisplay;\r\nwindow.createTableRow = createTableRow;\r\nwindow.updateTableRow = updateTableRow;\r\nwindow.deleteTableRow = deleteTableRow;\r\nwindow.refreshTable = refreshTable;\r\nwindow.setActiveTable = setActiveTable;\r\nwindow.addRow = addRow;\r\nwindow.refreshLogs = refreshLogs;\r\n\r\n// --- Live Search: Google-style instant filtering without page reload --- // added\r\n// Debounce utility to avoid firing too many network requests while typing  // added\r\nfunction debounce(fn, delay){  // added\r\n  let t;  // added\r\n  return function(){  // added\r\n    const ctx = this, args = arguments;  // added\r\n    clearTimeout(t);  // added\r\n    t = setTimeout(function(){ fn.apply(ctx, args); }, delay);  // added\r\n  };  // added\r\n}  // added\r\n\r\n// Single delegated listener works for both full-page and AJAX-injected partials  // added\r\nif (!window.__handleLiveSearch) window.__handleLiveSearch = debounce(function(inputEl){  // added\r\n  try {  // added\r\n    if (!inputEl || !inputEl.id || inputEl.id.indexOf('search-') !== 0) return;  // added\r\n    const tableId = parseInt(inputEl.id.slice('search-'.length), 10);  // added\r\n    if (!isNaN(tableId)) { refreshTable(tableId); }  // added\r\n  } catch(_){}  // added\r\n}, 250);  // added (250ms debounce)\r\n\r\ndocument.addEventListener('input', function(e){  // added\r\n  const el = e && (e.target || e.srcElement);  // added\r\n  if (!el || el.tagName !== 'INPUT') return;  // added\r\n  if (el.id && el.id.indexOf('search-') === 0) {  // added\r\n    window.__handleLiveSearch(el);  // added\r\n  }  // added\r\n});  // added\r\n\r\n// Ensure Add/Refresh/Search buttons work via delegated handler even if inline onclick is removed for CSP  // added\r\ndocument.addEventListener('click', function(e){  // added\r\n  try {  // added\r\n    const btn = e.target && e.target.closest('button');  // added\r\n    if (!btn) return;  // added\r\n    // Log filter chips\r\n    if (btn.hasAttribute('data-log-filter')){\r\n      e.preventDefault();\r\n      // Toggle active state within group\r\n      try {\r\n        const group = btn.parentElement;\r\n        if (group){\r\n          group.querySelectorAll('[data-log-filter]').forEach(n => { n.classList.remove('is-active'); n.setAttribute('aria-pressed','false'); });\r\n        }\r\n      } catch(_){ }\r\n      btn.classList.add('is-active');\r\n      btn.setAttribute('aria-pressed','true');\r\n      if (typeof window.refreshLogs === 'function') window.refreshLogs();\r\n      return;\r\n    }\r\n    // Identify Add/Refresh/Search without relying on inline onclick  // added\r\n    const isGreen = btn.classList && btn.classList.contains('bg-green-600');  // added\r\n    const ocAttr = (btn.getAttribute && btn.getAttribute('onclick')) || '';  // added\r\n    const hasAddOnclick = /addRow\\s*\\(/.test(ocAttr);  // added\r\n    const hasRefreshOnclick = /refreshTable\\s*\\(/.test(ocAttr);  // added\r\n    const label = (btn.textContent || '').trim().toLowerCase();  // added\r\n    const isRefreshLabel = label === 'refresh';  // added\r\n    const isSearchLabel = label === 'search';   // added\r\n    if (!(isGreen || hasAddOnclick || hasRefreshOnclick || isRefreshLabel)) return;  // added\r\n\r\n    // Derive the current table id robustly  // added\r\n    let tid = NaN;  // added\r\n    const card = btn.closest && btn.closest('[data-table-card]');  // added\r\n    if (card) {  // added\r\n      tid = parseInt(card.getAttribute('data-table-card'), 10);  // added\r\n    }  // added\r\n    if (isNaN(tid)) {  // added\r\n      const oc = ocAttr;  // added\r\n      // Try to parse from onclick patterns: addRow(parseInt('N',10)) or refreshTable(parseInt('N',10))  // added\r\n      let m = oc.match(/addRow\\s*\\(\\s*parseInt\\(\\s*'?(\\d+)'?\\s*,\\s*10\\s*\\)\\s*\\)/);  // added\r\n      if (!m) m = oc.match(/refreshTable\\s*\\(\\s*parseInt\\(\\s*'?(\\d+)'?\\s*,\\s*10\\s*\\)\\s*\\)/);  // added\r\n      if (m) tid = parseInt(m[1], 10);  // added\r\n    }  // added\r\n    if (isNaN(tid)) {  // added\r\n      // Fallback to the current picker value  // added\r\n      const picker = document.getElementById('tablePicker');  // added\r\n      if (picker) tid = parseInt(picker.value, 10);  // added\r\n    }  // added\r\n    if (isNaN(tid)) return;  // added\r\n\r\n    e.preventDefault();  // added\r\n    e.stopPropagation && e.stopPropagation();  // added\r\n    if (isGreen || hasAddOnclick) {  // added\r\n      if (typeof window.addRow === 'function') window.addRow(tid);  // added\r\n    } else if (hasRefreshOnclick || isRefreshLabel) {  // added\r\n      // Hard refresh the whole page for Refresh buttons\r\n      try { window.location.reload(true); } catch(_) { window.location.reload(); }\r\n    } else if (isSearchLabel) {  // added\r\n      if (typeof window.refreshTable === 'function') window.refreshTable(tid);  // added\r\n    }  // added\r\n  } catch(_) { /* no-op */ }  // added\r\n});  // added\r\n\r\n// ---------------- Auto-refresh Pause/Resume around form activity (Add/Edit/Save) ----------------\r\n// We pause table auto-refresh while admin is typing/editing to prevent inputs from being cleared.\r\n// Policy: pause up to 3 minutes from last activity. Resume only when the 3-minute window elapses\r\n// or immediately on explicit form close/submit (handled in Add/Save/Delete success handlers).\r\n(function(){\r\n  // Recent Client Activity side card\r\n  async function fetchClientActivity(){\r\n    try {\r\n      const url = new URL('/api/v1/logs/', window.location.origin);\r\n      url.searchParams.set('table_name', 'Client');\r\n      url.searchParams.set('per_page', '8');\r\n      const res = await fetch(url.toString(), { headers: { 'X-Requested-With': 'XMLHttpRequest' }, credentials: 'same-origin' });\r\n      const data = await res.json();\r\n      return (data && data.results) ? data.results : [];\r\n    } catch(_) { return []; }\r\n  }\r\n\r\n  function renderClientActivity(list){\r\n    const host = document.getElementById('client-activity-card');\r\n    if (!host) return;\r\n    host.innerHTML = '';\r\n    if (!list || list.length === 0){\r\n      const empty = document.createElement('div');\r\n      empty.className = 'text-sm text-gray-500';\r\n      empty.textContent = 'No recent client activity.';\r\n      host.appendChild(empty);\r\n      return;\r\n    }\r\n    const ul = document.createElement('ul');\r\n    ul.className = 'space-y-2';\r\n    list.forEach(x => {\r\n      const li = document.createElement('li');\r\n      li.className = 'flex items-start gap-2';\r\n      const badge = document.createElement('span');\r\n      badge.className = 'inline-flex items-center px-2 py-0.5 rounded text-[11px] font-semibold ' + (x.action === 'CREATE' ? 'bg-emerald-50 text-emerald-700' : x.action === 'LOGIN' ? 'bg-blue-50 text-blue-700' : x.action === 'LOGOUT' ? 'bg-gray-100 text-gray-700' : 'bg-indigo-50 text-indigo-700');\r\n      badge.textContent = x.action || '';\r\n      const main = document.createElement('div');\r\n      main.className = 'text-sm text-gray-800 dark:text-gray-200';\r\n      main.innerHTML = `<div><strong>${esc(x.table_name || 'Client')}</strong> \u00B7 ${esc(x.row_id || '')}</div><div class=\"text-xs text-gray-500\">${esc(x.timestamp || '')}</div>`;\r\n      li.appendChild(badge);\r\n      li.appendChild(main);\r\n      ul.appendChild(li);\r\n    });\r\n    host.appendChild(ul);\r\n  }\r\n\r\n  window.hydrateClientActivityCard = function(){\r\n    fetchClientActivity().then(renderClientActivity).catch(()=>{});\r\n  };\r\n  const MAX_PAUSE_MS = 3 * 60 * 1000;      // 3 minutes\r\n  window.__tablesPauseUntil = 0;           // epoch ms until which refresh is paused\r\n  window.__tablesInactivityTimer = null;   // kept for compatibility; not used for early-resume anymore\r\n\r\n  // Public helper to mark recent form activity (focus/typing on add/edit inputs)\r\n  window.noteTablesFormActivity = function(){\r\n    try {\r\n      // Extend pause window to the next 3 minutes from the latest activity.\r\n      window.__tablesPauseUntil = Date.now() + MAX_PAUSE_MS;\r\n      // Do not early-resume on brief inactivity; we only resume when the\r\n      // 3-minute window ends or when a form is explicitly submitted/closed.\r\n      if (window.__tablesInactivityTimer) { clearTimeout(window.__tablesInactivityTimer); window.__tablesInactivityTimer = null; }\r\n    } catch(_){}\r\n  };\r\n\r\n  // Delegate focus and input events on add/edit fields to mark activity  // added\r\n  document.addEventListener('focusin', function(e){  // added\r\n    const t = e.target;  // added\r\n    if (!t) return;  // added\r\n    if ((t.id && t.id.indexOf('add-') === 0) || t.matches('input[data-field]')) {  // added\r\n      window.noteTablesFormActivity();  // added\r\n    }  // added\r\n  });\r\n  document.addEventListener('input', function(e){  // added\r\n    const t = e.target;  // added\r\n    if (!t) return;  // added\r\n    if ((t.id && t.id.indexOf('add-') === 0) || t.matches('input[data-field]')) {  // added\r\n      window.noteTablesFormActivity();  // added\r\n    }  // added\r\n  });\r\n})();\r\n\r\n// ---------------- Client Logs (full-width table) + Optional Admin Overview ----------------\r\n(function(){\r\n  // Populate Recent Client Activity table with only Client logs\r\n  window.refreshClientLogs = async function(){\r\n    try {\r\n      const tbl = document.getElementById('client-logs-table'); if (!tbl) return;\r\n      const tbody = tbl.querySelector('tbody'); if (!tbody) return;\r\n      // Inject notification styles if not already present, to reuse glowing animation\r\n      (function ensureNotifStylesIfMissing(){\r\n        try {\r\n          if (document.getElementById('notifGlowStyles')) return;\r\n          const style = document.createElement('style');\r\n          style.id = 'notifGlowStyles';\r\n          style.textContent = `\r\n@keyframes notifPulse{0%{box-shadow:0 0 0 0 rgba(59,130,246,.28)}70%{box-shadow:0 0 0 10px rgba(59,130,246,0)}100%{box-shadow:0 0 0 0 rgba(59,130,246,0)}}\r\n@keyframes notifGlowOut{0%{background-color:rgba(59,130,246,0.06)}100%{background-color:transparent}}\r\n.notif-new{background-color:rgba(59,130,246,0.06); animation:notifPulse 1800ms ease-out infinite}\r\n.dark .notif-new{background-color:rgba(59,130,246,0.12)}\r\n.notif-fade{animation:notifGlowOut 600ms ease-out 1}`;\r\n          document.head.appendChild(style);\r\n        } catch(_){ }\r\n      })();\r\n\r\n      // Human-friendly time ago similar to notifications.js\r\n      function timeAgo(iso){\r\n        try {\r\n          const d = new Date(iso);\r\n          const now = new Date();\r\n          const sec = Math.max(0, Math.floor((now - d) / 1000));\r\n          if (sec < 10) return 'just now';\r\n          if (sec < 60) return `${sec}s ago`;\r\n          const min = Math.floor(sec / 60);\r\n          if (min < 60) return `${min} min ago`;\r\n          const hr = Math.floor(min / 60);\r\n          if (hr < 24) return `${hr} h ago`;\r\n          const day = Math.floor(hr / 24);\r\n          if (day < 7) return `${day} d ago`;\r\n          return d.toLocaleString();\r\n        } catch { return iso; }\r\n      }\r\n\r\n      const url = new URL('/api/v1/logs/', window.location.origin);\r\n      url.searchParams.set('table_name', 'Client');\r\n      url.searchParams.set('per_page', '8');\r\n      const res = await fetch(url.toString(), { headers: { 'X-Requested-With': 'XMLHttpRequest' }, credentials: 'same-origin' });\r\n      const data = await res.json().catch(()=>({}));\r\n      const items = (data && data.results) ? data.results : [];\r\n      tbody.innerHTML = '';\r\n      if (!items.length){\r\n        const tr = document.createElement('tr');\r\n        tr.innerHTML = '<td class=\"py-3 text-gray-500 dark:text-gray-300\" colspan=\"6\">No recent client activity.</td>';\r\n        tbody.appendChild(tr);\r\n        return;\r\n      }\r\n      const nowMs = Date.now();\r\n      items.forEach(x => {\r\n        const tr = document.createElement('tr');\r\n        // Highlight if within last 60s, mirroring notifications glow\r\n        let withinOneMinute = false;\r\n        try { withinOneMinute = Math.abs(nowMs - new Date(x.timestamp).getTime()) <= 60 * 1000; } catch(_){ }\r\n        tr.className = 'border-b ' + (withinOneMinute ? 'notif-new' : '');\r\n        const rd = (x.row_details || {});\r\n        const fullName = rd.full_name || rd.name || '';\r\n        const email = rd.email || '';\r\n        const location = rd.location || rd.city || '';\r\n        const phone = rd.phone || '';\r\n        // Small action icons for scanability\r\n        const action = (x.action || '').toUpperCase();\r\n        let icon = '';\r\n        if (action === 'CREATE') {\r\n          icon = '<svg class=\"w-4 h-4 text-emerald-600 inline-block align-[-2px] mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293A1 1 0 106.293 10.707l2 2a1 1 0 001.414 0l3.999-4z\"/></svg>';\r\n        } else if (action === 'LOGIN') {\r\n          icon = '<svg class=\"w-4 h-4 text-blue-600 inline-block align-[-2px] mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M3 4a2 2 0 012-2h6a2 2 0 012 2v3h-2V4H5v12h6v-3h2v3a2 2 0 01-2 2H5a2 2 0 01-2-2V4z\"/><path d=\"M12 11h-5v-2h5V6l5 4-5 4v-3z\"/></svg>';\r\n        } else if (action === 'LOGOUT') {\r\n          icon = '<svg class=\"w-4 h-4 text-gray-600 inline-block align-[-2px] mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M7 4a2 2 0 012-2h3a2 2 0 012 2v3h-2V4H9v12h3v-3h2v3a2 2 0 01-2 2H9a2 2 0 01-2-2V4z\"/><path d=\"M13 11H5V9h8V6l5 4-5 4v-3z\"/></svg>';\r\n        } else if (action === 'PASSWORD_RESET') {\r\n          icon = '<svg class=\"w-4 h-4 text-indigo-600 inline-block align-[-2px] mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M10 2a4 4 0 00-4 4v2H5a3 3 0 00-3 3v4a3 3 0 003 3h10a3 3 0 003-3v-4a3 3 0 00-3-3h-1V6a4 4 0 00-4-4zm-2 6V6a2 2 0 114 0v2H8z\"/></svg>';\r\n        } else if (action === 'FORGOT_PASSWORD') {\r\n          icon = '<svg class=\"w-4 h-4 text-amber-600 inline-block align-[-2px] mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM9 14h2v2H9v-2zm1-9a3 3 0 00-3 3h2a1 1 0 112 0c0 .667-.333 1.111-1.2 1.8C9.333 10.4 9 11 9 12h2c0-.5.167-.8.8-1.3.866-.7 2.2-1.5 2.2-3.7a3 3 0 00-3-3z\"/></svg>';\r\n        } else if (action === 'ARTIST_APPLY') {\r\n          icon = '<svg class=\"w-4 h-4 text-violet-600 inline-block align-[-2px] mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M4 3a2 2 0 00-2 2v10l4-2 4 2 4-2 4 2V5a2 2 0 00-2-2H4z\"/></svg>';\r\n        }\r\n\r\n        tr.innerHTML = `\r\n          <td class=\"py-2 pr-2\">${esc(timeAgo(x.timestamp || ''))}</td>\r\n          <td class=\"py-2 pr-2\">${esc(fullName)}</td>\r\n          <td class=\"py-2 pr-2\">${esc(email)}</td>\r\n          <td class=\"py-2 pr-2\">${esc(location)}</td>\r\n          <td class=\"py-2 pr-2\">${esc(phone)}</td>\r\n          <td class=\"py-2 pr-2\">${icon}${esc(action)}</td>`;\r\n        tbody.appendChild(tr);\r\n      });\r\n    } catch(_){ /* no-op */ }\r\n  };\r\n  const MAX_PAUSE_MS = 3 * 60 * 1000;      // 3 minutes\r\n  window.__tablesPauseUntil = 0;           // epoch ms until which refresh is paused\r\n  window.__tablesInactivityTimer = null;   // kept for compatibility; not used for early-resume anymore\r\n\r\n  // Public helper to mark recent form activity (focus/typing on add/edit inputs)\r\n  window.noteTablesFormActivity = function(){\r\n    try {\r\n      // Extend pause window to the next 3 minutes from the latest activity.\r\n      window.__tablesPauseUntil = Date.now() + MAX_PAUSE_MS;\r\n      // Do not early-resume on brief inactivity; we only resume when the\r\n      // 3-minute window ends or when a form is explicitly submitted/closed.\r\n      if (window.__tablesInactivityTimer) { clearTimeout(window.__tablesInactivityTimer); window.__tablesInactivityTimer = null; }\r\n    } catch(_){}\r\n  };\r\n\r\n  // Delegate focus and input events on add/edit fields to mark activity  // added\r\n  document.addEventListener('focusin', function(e){  // added\r\n    const t = e.target;  // added\r\n    if (!t) return;  // added\r\n    if ((t.id && t.id.indexOf('add-') === 0) || t.matches('input[data-field]')) {  // added\r\n      window.noteTablesFormActivity();  // added\r\n    }  // added\r\n  });\r\n  document.addEventListener('input', function(e){  // added\r\n    const t = e.target;  // added\r\n    if (!t) return;  // added\r\n    if ((t.id && t.id.indexOf('add-') === 0) || t.matches('input[data-field]')) {  // added\r\n      window.noteTablesFormActivity();  // added\r\n    }  // added\r\n  });\r\n})();\r\n\r\n// ---------------- Full-page Tables initializer (moved from templates/dashboard/tables_full.html) ----------------\r\n(function(){\r\n  // 3s auto-refresh for tables and logs with unified pause/resume and race guards\r\n  const REFRESH_MS = 3000;\r\n  // Back-compat: use a single global pause flag so notifications can share it too\r\n  if (typeof window.__autoPauseUntil === 'undefined') window.__autoPauseUntil = 0;\r\n  // Keep existing alias for tables-specific references\r\n  Object.defineProperty(window, '__tablesPauseUntil', {\r\n    get(){ return window.__autoPauseUntil; },\r\n    set(v){ window.__autoPauseUntil = v; }\r\n  });\r\n\r\n  function isPaused(){\r\n    return Date.now() <= (window.__autoPauseUntil || 0);\r\n  }\r\n\r\n  // Race guards to avoid overlapping network calls\r\n  window.__refreshTablesInFlight = false;\r\n  window.__refreshLogsInFlight = false;\r\n\r\n  function tickAuto(){\r\n    try {\r\n      if (isPaused()) return;\r\n      var sel = document.getElementById('tablePicker');\r\n      var tid = sel ? parseInt(sel.value, 10) : 1;\r\n      // Refresh current table\r\n      if (!window.__refreshTablesInFlight && typeof window.refreshTable === 'function'){\r\n        window.__refreshTablesInFlight = true;\r\n        Promise.resolve(window.refreshTable(tid)).catch(()=>{}).finally(()=>{ window.__refreshTablesInFlight = false; });\r\n      }\r\n      // Refresh logs\r\n      if (!window.__refreshLogsInFlight && typeof window.refreshLogs === 'function'){\r\n        window.__refreshLogsInFlight = true;\r\n        Promise.resolve(window.refreshLogs()).catch(()=>{}).finally(()=>{ window.__refreshLogsInFlight = false; });\r\n      }\r\n    } catch(_) { /* no-op */ }\r\n  }\r\n\r\n  // Ensure we don't double-create the timer\r\n  function startAutoRefreshTimer(){\r\n    try {\r\n      if (window.__tablesAutoTimer) { try { clearInterval(window.__tablesAutoTimer); } catch(_){} window.__tablesAutoTimer = null; }\r\n      window.__tablesAutoTimer = setInterval(tickAuto, REFRESH_MS);\r\n    } catch(_) {}\r\n  }\r\n\r\n  function initTablesFullPage(){\r\n    try {\r\n      const picker = document.getElementById('tablePicker');\r\n      const loadBtn = document.getElementById('loadTableBtn');\r\n      const refreshBtn = document.getElementById('refreshActiveBtn');\r\n      const initial = picker ? picker.value : 1;\r\n      if (typeof window.setActiveTable === 'function') window.setActiveTable(initial);\r\n      if (loadBtn) loadBtn.addEventListener('click', ()=> window.setActiveTable(picker.value));\r\n      if (refreshBtn) refreshBtn.addEventListener('click', ()=> { try { window.location.reload(true); } catch(_) { window.location.reload(); } });\r\n      if (picker) picker.addEventListener('change', ()=> window.setActiveTable(picker.value));\r\n      try { document.title = (document.title || '').replace(/\\s\u00B7\\s.*$/,'') + ' \u00B7 Tables'; } catch(e){}\r\n      if (typeof window.setActiveSidebar === 'function') { window.setActiveSidebar('/dashboard/tables/'); }\r\n      // Wire custom dropdown (no new functions; inline within initializer)\r\n      try {\r\n        const wrapper = document.getElementById('tablePickerWrapper');\r\n        const list = document.getElementById('tablePickerList');\r\n        const displayBtn = document.getElementById('tablePickerDisplay');\r\n        const selectedText = document.getElementById('tablePickerSelectedText');\r\n        let labels = {};\r\n        try { labels = JSON.parse(wrapper?.getAttribute('data-label-map') || '{}'); } catch(_) { labels = {}; }\r\n        // Hydrate option labels and table card headings\r\n        if (list) {\r\n          list.querySelectorAll('li[role=\"option\"]').forEach(li => {\r\n            const v = li.getAttribute('data-value');\r\n            const el = li.querySelector('[data-role=\"label\"]');\r\n            if (el) el.textContent = labels[String(v)] || (`Table ${v}`);\r\n          });\r\n        }\r\n        document.querySelectorAll('[data-table-card]').forEach(card => {\r\n          const t = parseInt(card.getAttribute('data-table-card'), 10);\r\n          const h2 = card.querySelector('h2');\r\n          if (h2) h2.textContent = labels[String(t)] || (`Table ${t}`);\r\n        });\r\n        // Show custom wrapper; hide native select for a unified UI\r\n        if (wrapper && picker) { wrapper.classList.remove('hidden'); picker.classList.add('hidden'); }\r\n        // Set initial selected text\r\n        if (selectedText && picker) { selectedText.textContent = labels[String(picker.value)] || (`Table ${picker.value}`); }\r\n        // Toggle open/close\r\n        if (displayBtn && list) {\r\n          displayBtn.addEventListener('click', function(){\r\n            const isHidden = list.classList.contains('hidden');\r\n            if (isHidden) { list.classList.remove('hidden'); displayBtn.setAttribute('aria-expanded','true'); }\r\n            else { list.classList.add('hidden'); displayBtn.setAttribute('aria-expanded','false'); }\r\n          });\r\n          list.addEventListener('click', function(e){\r\n            const li = e.target && e.target.closest('li[role=\"option\"]');\r\n            if (!li) return;\r\n            const val = li.getAttribute('data-value');\r\n            if (picker) picker.value = String(parseInt(val,10) || 1);\r\n            if (selectedText && picker) selectedText.textContent = labels[String(picker.value)] || (`Table ${picker.value}`);\r\n            if (typeof window.setActiveTable === 'function') window.setActiveTable(picker.value);\r\n            list.classList.add('hidden');\r\n            displayBtn.setAttribute('aria-expanded','false');\r\n          });\r\n          // Close on outside click and Esc\r\n          document.addEventListener('click', function(e){\r\n            try {\r\n              const t = e.target;\r\n              if (!t) return;\r\n              if (wrapper && !wrapper.contains(t) && !displayBtn.contains(t)) {\r\n                list.classList.add('hidden');\r\n                displayBtn.setAttribute('aria-expanded','false');\r\n              }\r\n            } catch(_){}\r\n          });\r\n          document.addEventListener('keydown', function(e){\r\n            if (e.key === 'Escape') {\r\n              list.classList.add('hidden');\r\n              displayBtn.setAttribute('aria-expanded','false');\r\n            }\r\n          });\r\n        }\r\n      } catch(_){}\r\n      startAutoRefreshTimer();\r\n      // Clear timer on unload to avoid leaks\r\n      window.addEventListener('beforeunload', function(){\r\n        try { if (window.__tablesAutoTimer) { clearInterval(window.__tablesAutoTimer); window.__tablesAutoTimer = null; } } catch(_){ }\r\n      });\r\n    } catch(_) {}\r\n  }\r\n\r\n  // Expose and auto-init only on full page where the picker exists\r\n  window.initTablesFullPage = initTablesFullPage;\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', function(){\r\n      if (document.getElementById('tablePicker')) initTablesFullPage();\r\n      // Optional Admin Overview auto-init when container exists (non-intrusive)\r\n      try { if (typeof window.initAdminOverview === 'function') window.initAdminOverview(); } catch(_){ }\r\n      // Kick off recent client activity card hydration when present\r\n      try { if (document.getElementById('client-activity-card')) hydrateClientActivityCard(); } catch(_){ }\r\n      // Kick off Recent Client Activity (full-width table) hydration when present\r\n      try { if (document.getElementById('client-logs-table')) refreshClientLogs(); } catch(_){ }\r\n      // Piggyback on notifications bump to keep client logs fresh without editing notifications.js\r\n      try {\r\n        if (!window.__clientLogsWrapped && typeof window.bumpNotificationsNow === 'function'){\r\n          const __origBump = window.bumpNotificationsNow;\r\n          window.bumpNotificationsNow = function(){\r\n            try { __origBump && __origBump(); } catch(_){ }\r\n            try { if (document.getElementById('client-logs-table')) refreshClientLogs(); } catch(_){ }\r\n          };\r\n          window.__clientLogsWrapped = true;\r\n        }\r\n      } catch(_){ }\r\n    });\r\n  } else {\r\n    if (document.getElementById('tablePicker')) initTablesFullPage();\r\n    try { if (typeof window.initAdminOverview === 'function') window.initAdminOverview(); } catch(_){ }\r\n    try { if (document.getElementById('client-logs-table')) refreshClientLogs(); } catch(_){ }\r\n    try {\r\n      if (!window.__clientLogsWrapped && typeof window.bumpNotificationsNow === 'function'){\r\n        const __origBump = window.bumpNotificationsNow;\r\n        window.bumpNotificationsNow = function(){\r\n          try { __origBump && __origBump(); } catch(_){ }\r\n          try { if (document.getElementById('client-logs-table')) refreshClientLogs(); } catch(_){ }\r\n        };\r\n        window.__clientLogsWrapped = true;\r\n      }\r\n    } catch(_){ }\r\n  }\r\n})();\r\n\r\n// ---------------- Optional Admin (Table1) Overview ----------------\r\n(function(){\r\n  async function fetchAdminsOverview(){\r\n    try {\r\n      const url = new URL('/dashboard/api/admins/', window.location.origin);\r\n      const res = await fetch(url.toString(), { headers: { 'X-Requested-With': 'XMLHttpRequest' }, credentials: 'same-origin' });\r\n      const data = await res.json();\r\n      if (data && data.success) return data.results || [];\r\n      return [];\r\n    } catch(_) { return []; }\r\n  }\r\n\r\n  function adminStatusDot(status){\r\n    const online = String(status||'').toLowerCase() === 'online';\r\n    return `<span class=\"inline-flex items-center\"><span class=\"w-2.5 h-2.5 rounded-full mr-2 ${online ? 'bg-green-500' : 'bg-red-500'}\"></span>${online ? 'Online' : 'Offline'}</span>`;\r\n  }\r\n\r\n  function renderAdminOverview(list){\r\n    const root = document.getElementById('admin-overview');\r\n    if (!root) return;\r\n    // Build header with action button (navigate to Admin Management)\r\n    const header = document.createElement('div');\r\n    header.className = 'flex items-center justify-between mb-3 text-gray-900 dark:text-gray-100';\r\n    const title = document.createElement('h3');\r\n    title.className = 'text-lg font-semibold';\r\n    title.textContent = 'Admins Overview';\r\n    const btn = document.createElement('a');\r\n    btn.className = 'px-3 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900';\r\n    btn.href = '/dashboard/Admin_management/';\r\n    btn.textContent = 'Admin Management';\r\n    header.appendChild(title);\r\n    header.appendChild(btn);\r\n\r\n    // Empty state when list is missing or has no entries (e.g., no data or insufficient permissions)\r\n    if (!list || list.length === 0) {\r\n      root.innerHTML = '';\r\n      root.appendChild(header);\r\n      const empty = document.createElement('div');\r\n      empty.className = 'text-sm text-gray-500';\r\n      empty.textContent = 'No admins to display. You may not have permission or there is no data yet.';\r\n      root.appendChild(empty);\r\n      return;\r\n    }\r\n\r\n    const grid = document.createElement('div');\r\n    grid.className = 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3';\r\n    (list || []).forEach(item => {\r\n      const card = document.createElement('div');\r\n      card.className = 'bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition p-4 cursor-pointer';\r\n      card.setAttribute('role', 'link');\r\n      card.setAttribute('tabindex', '0');\r\n      card.addEventListener('click', function(){ window.location.href = '/dashboard/Admin_management/'; });\r\n      card.addEventListener('keydown', function(e){ if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); window.location.href = '/dashboard/Admin_management/'; } });\r\n      const name = item.full_name || item.username || '';\r\n      const uname = item.user_name || '';\r\n      const status = item.status || 'offline';\r\n      card.innerHTML = `\r\n        <div class=\"flex items-start justify-between\">\r\n          <div>\r\n            <div class=\"text-xs text-gray-500 dark:text-gray-400\">ID #${esc(item.id)}</div>\r\n            <div class=\"text-base font-semibold text-gray-900 dark:text-gray-100\">${esc(name)}</div>\r\n            <div class=\"text-xs text-gray-600 dark:text-gray-300 break-all\">${esc(uname)}</div>\r\n          </div>\r\n          <div class=\"text-sm\">${adminStatusDot(status)}</div>\r\n        </div>\r\n      `;\r\n      grid.appendChild(card);\r\n    });\r\n\r\n    root.innerHTML = '';\r\n    root.appendChild(header);\r\n    root.appendChild(grid);\r\n  }\r\n\r\n  async function init(){\r\n    const root = document.getElementById('admin-overview');\r\n    if (!root) return; // do nothing unless container exists\r\n    const data = await fetchAdminsOverview();\r\n    renderAdminOverview(data);\r\n  }\r\n\r\n  window.initAdminOverview = init;\r\n})();\r\n"],
  "mappings": "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",
  "names": ["esc", "s", "csrf", "v", "name", "parts", "c", "el", "fetchTableData", "tableId", "page", "q", "url", "res", "updateTableDisplay", "payload", "tbody", "row", "fallbackKey", "uid", "realId", "tr", "exitEditMode", "td", "input", "val", "field", "sp", "btnEdit", "btns", "b", "enterEditMode", "current", "inp", "first", "i", "e", "saveBtn", "btn", "rowId", "inputs", "nameVal", "cityVal", "phoneVal", "nameOk", "cityOk", "phoneOk", "msg", "data", "prevText", "updateTableRow", "d", "details", "refreshLogs", "refreshTable", "deleteTableRow", "pag", "createTableRow", "rowData", "doFetch", "fd", "setActiveTable", "value", "tid", "picker", "wrapper", "selectedText", "list", "labels", "label", "li", "info", "card", "addRow", "nameEl", "cityEl", "phoneEl", "city", "phone", "container", "tableFilter", "active", "qp", "x", "debounce", "fn", "delay", "t", "ctx", "args", "inputEl", "group", "n", "isGreen", "ocAttr", "hasAddOnclick", "hasRefreshOnclick", "isRefreshLabel", "isSearchLabel", "oc", "m", "fetchClientActivity", "renderClientActivity", "host", "empty", "ul", "badge", "main", "MAX_PAUSE_MS", "timeAgo", "iso", "sec", "min", "hr", "day", "tbl", "style", "items", "nowMs", "withinOneMinute", "rd", "fullName", "email", "location", "action", "icon", "isPaused", "tickAuto", "sel", "startAutoRefreshTimer", "initTablesFullPage", "loadBtn", "refreshBtn", "initial", "displayBtn", "h2", "__origBump", "fetchAdminsOverview", "adminStatusDot", "status", "online", "renderAdminOverview", "root", "header", "title", "grid", "item", "uname", "init"]
}
