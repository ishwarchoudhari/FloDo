{
  "version": 3,
  "sources": ["../../js/base.js"],
  "sourcesContent": ["(function ensureCsrfHelper(){\r\n  try {\r\n    if (!window.getCSRFToken) {\r\n      window.getCSRFToken = function(){\r\n        try { var c = (window.getCookie && window.getCookie('csrftoken')); if (c) return c; } catch(_){ }\r\n        try { var m = document.querySelector('meta[name=\"csrf-token\"]'); if (m && (m.content||'').trim()) return m.content.trim(); } catch(_){ }\r\n        try { var h = document.getElementById('csrf-token-global'); if (h && (h.value||h.content)) return (h.value||h.content); } catch(_){ }\r\n        try { var hi = document.querySelector('#csrf-holder input[name=\"csrfmiddlewaretoken\"]'); if (hi && hi.value) return hi.value; } catch(_){ }\r\n        return '';\r\n      };\r\n    }\r\n  } catch(_){ }\r\n})();\r\n'use strict';\r\n\r\n// Centralized admin URL prefixing to keep paths consistent with server routing\r\nconst ADMIN_PREFIX = '/Super-Admin';\r\nconst AUTH_BASE = ADMIN_PREFIX + '/auth';\r\n\r\n// ---- Theme (dark mode) handling with persistence and system preference ----\r\n(function(){\r\n  function getPreferredTheme(){\r\n    try {\r\n      const stored = localStorage.getItem('theme');\r\n      if (stored === 'dark' || stored === 'light') return stored;\r\n    } catch(_){}\r\n    try { return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'; } catch(_) { return 'light'; }\r\n  }\r\n  function applyTheme(theme){\r\n    try {\r\n      const root = document.documentElement; // <html>\r\n      const body = document.body;            // <body>\r\n      if (theme === 'dark') {\r\n        root.classList.add('dark');\r\n        try { root.setAttribute('data-theme', 'dark'); } catch(_){ }\r\n        if (body) body.classList.add('dark');\r\n      } else {\r\n        root.classList.remove('dark');\r\n        try { root.setAttribute('data-theme', 'light'); } catch(_){ }\r\n        if (body) body.classList.remove('dark');\r\n      }\r\n      const btn = document.getElementById('themeToggle');\r\n      if (btn) {\r\n        btn.setAttribute('aria-pressed', theme === 'dark' ? 'true' : 'false');\r\n        const sun = btn.querySelector('[data-icon=\"sun\"]');\r\n        const moon = btn.querySelector('[data-icon=\"moon\"]');\r\n        if (sun && moon){\r\n          if (theme === 'dark'){ sun.classList.remove('hidden'); moon.classList.add('hidden'); }\r\n          else { sun.classList.add('hidden'); moon.classList.remove('hidden'); }\r\n        }\r\n      }\r\n    } catch(_){ }\r\n  }\r\n  function setTheme(theme){\r\n    try { localStorage.setItem('theme', theme); } catch(_){ }\r\n    try {\r\n      // Persist for server-rendered initial class in templates/base.html\r\n      // 31536000s \u2248 365 days\r\n      document.cookie = 'theme=' + encodeURIComponent(theme) + '; Path=/; Max-Age=31536000';\r\n    } catch(_){ }\r\n    applyTheme(theme);\r\n  }\r\n  // Initialize on load\r\n  const theme = getPreferredTheme();\r\n  applyTheme(theme);\r\n  // Watch system preference changes if user hasn't chosen explicitly\r\n  try {\r\n    const mql = window.matchMedia('(prefers-color-scheme: dark)');\r\n    if (mql && typeof mql.addEventListener === 'function'){\r\n      mql.addEventListener('change', (e)=>{\r\n        try {\r\n          const stored = localStorage.getItem('theme');\r\n          if (stored !== 'dark' && stored !== 'light') applyTheme(e.matches ? 'dark' : 'light');\r\n        } catch(_){}\r\n      });\r\n    }\r\n  } catch(_){}\r\n  // Expose small API\r\n  window.__setTheme = setTheme;\r\n  // Bind click handler for theme toggle (resilient to early/late availability)\r\n  try {\r\n    function __bindThemeToggle(){\r\n      try {\r\n        var btn = document.getElementById('themeToggle');\r\n        if (!btn) return;\r\n        if (btn.getAttribute('data-theme-bound') === '1') return; // idempotent\r\n        var getCurrent = function(){ return document.documentElement.classList.contains('dark') ? 'dark' : 'light'; };\r\n        btn.addEventListener('click', function(){\r\n          try {\r\n            var next = getCurrent() === 'dark' ? 'light' : 'dark';\r\n            setTheme(next);\r\n          } catch(_){ }\r\n        });\r\n        btn.setAttribute('data-theme-bound', '1');\r\n      } catch(_){ }\r\n    }\r\n    // Attempt immediately and on DOMContentLoaded\r\n    __bindThemeToggle();\r\n    if (document.readyState === 'loading') {\r\n      document.addEventListener('DOMContentLoaded', __bindThemeToggle);\r\n    }\r\n    // Global delegated fallback (catches clicks if button was re-rendered dynamically)\r\n    if (!window.__themeToggleDelegated){\r\n      document.addEventListener('click', function(e){\r\n        try {\r\n          var t = e.target && (e.target.closest ? e.target.closest('#themeToggle') : null);\r\n          if (!t) return;\r\n          var isPressed = document.documentElement.classList.contains('dark');\r\n          setTheme(isPressed ? 'light' : 'dark');\r\n          // update aria for good measure\r\n          try { t.setAttribute('aria-pressed', isPressed ? 'false' : 'true'); } catch(_){ }\r\n        } catch(_){ }\r\n      });\r\n      window.__themeToggleDelegated = true;\r\n    }\r\n  } catch(_){ }\r\n})();\r\n\r\n// Ensure Admin Overview initializes on pages that include the container\r\n(function(){\r\n  function init() {\r\n    try { if (typeof window.initAdminOverview === 'function') window.initAdminOverview(); } catch(_){ }\r\n  }\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', init);\r\n  } else {\r\n    init();\r\n  }\r\n})();\r\n\r\n// Helper to update aria-live status text\r\nwindow.updateAriaStatus = function(msg){\r\n  var el = document.getElementById('aria-status');\r\n  if (el) el.textContent = msg || '';\r\n};\r\n\r\n// Optional WebSocket to keep dashboard charts live using existing notifications WS\r\nwindow.initDashboardStatsWS = function(){\r\n  try {\r\n    if (window.__dashWS && (window.__dashWS.readyState === 0 || window.__dashWS.readyState === 1)) return;\r\n    var proto = (window.location.protocol === 'https:') ? 'wss://' : 'ws://';\r\n    var url = proto + window.location.host + '/ws/notifications/';\r\n    var ws = new WebSocket(url);\r\n    window.__dashWS = ws;\r\n    ws.onopen = function(){ /* connected */ };\r\n    ws.onmessage = function(ev){\r\n      try {\r\n        var msg = JSON.parse(ev.data||'{}');\r\n        // Any activity implies potential table count change; refresh lightweightly\r\n        if (typeof window.refreshDashboardCharts === 'function') window.refreshDashboardCharts();\r\n      } catch(_){ }\r\n    };\r\n    ws.onclose = function(){\r\n      // Reconnect with small backoff\r\n      setTimeout(function(){ try { window.initDashboardStatsWS(); } catch(_){ } }, 2500);\r\n    };\r\n    ws.onerror = function(){ try { ws.close(); } catch(_){ } };\r\n  } catch(_){ }\r\n};\r\n\r\n// ------------------ Dashboard Chart (Table Distribution) ------------------\r\n// Inline SVG bar chart: reads stats from #chart-table-distribution[data-stats]\r\n// Dark-mode aware, responsive, with a lightweight refresh hook.\r\nwindow.__dashboardChart = null;\r\nwindow.initDashboardCharts = function(){\r\n  try {\r\n    var host = document.getElementById('chart-table-distribution'); if (!host) return;\r\n    function parseStats(){\r\n      try { return JSON.parse(host.getAttribute('data-stats')||'[]') || []; }\r\n      catch(_){ return []; }\r\n    }\r\n    function theme(){\r\n      var isDark = document.documentElement.classList.contains('dark');\r\n      return isDark ? {\r\n        bg: 'transparent', axis: '#9CA3AF', grid: '#374151', bar:'#60A5FA', text:'#E5E7EB'\r\n      } : {\r\n        bg: 'transparent', axis: '#6B7280', grid: '#E5E7EB', bar:'#2563EB', text:'#111827'\r\n      };\r\n    }\r\n    function clear(){ host.innerHTML=''; }\r\n    function render(){\r\n      var data = parseStats(); if (!data || !data.length){ host.innerHTML = '<div class=\"text-sm text-gray-500 dark:text-gray-400\">No data</div>'; return; }\r\n      clear();\r\n      var rect = host.getBoundingClientRect();\r\n      var width = Math.max(300, Math.floor(rect.width));\r\n      var height = Math.max(220, Math.floor(rect.height));\r\n      var pad = { t: 18, r: 12, b: 36, l: 110 };\r\n      var innerW = width - pad.l - pad.r, innerH = height - pad.t - pad.b;\r\n      var labels = data.map(function(d){ return String(d.label||''); });\r\n      var values = data.map(function(d){ return Math.max(0, Number(d.count)||0); });\r\n      var max = Math.max.apply(null, values.concat([1]));\r\n      // SVG root\r\n      var svg = document.createElementNS('http://www.w3.org/2000/svg','svg');\r\n      svg.setAttribute('viewBox','0 0 '+width+' '+height);\r\n      svg.setAttribute('width','100%'); svg.setAttribute('height','100%');\r\n      var g = document.createElementNS(svg.namespaceURI,'g'); g.setAttribute('transform','translate('+pad.l+','+pad.t+')');\r\n      // Grid lines\r\n      var cols = 4; var th = theme();\r\n      for (var i=0;i<=cols;i++){\r\n        var x = Math.round(innerW * i / cols);\r\n        var gl = document.createElementNS(svg.namespaceURI,'line');\r\n        gl.setAttribute('x1', x); gl.setAttribute('y1', 0);\r\n        gl.setAttribute('x2', x); gl.setAttribute('y2', innerH);\r\n        gl.setAttribute('stroke', th.grid); gl.setAttribute('stroke-width','1'); gl.setAttribute('opacity','0.6');\r\n        g.appendChild(gl);\r\n      }\r\n      // Bars\r\n      var barGap = 10; var barH = Math.floor((innerH - barGap*(labels.length-1)) / labels.length);\r\n      for (var j=0;j<labels.length;j++){\r\n        var v = values[j]; var w = Math.round((v / max) * innerW);\r\n        var y = j * (barH + barGap);\r\n        var rectBar = document.createElementNS(svg.namespaceURI,'rect');\r\n        rectBar.setAttribute('x','0'); rectBar.setAttribute('y', String(y));\r\n        rectBar.setAttribute('width', String(Math.max(1,w)));\r\n        rectBar.setAttribute('height', String(barH));\r\n        rectBar.setAttribute('rx','6'); rectBar.setAttribute('ry','6');\r\n        rectBar.setAttribute('fill', th.bar);\r\n        rectBar.setAttribute('class','transition-all duration-200');\r\n        g.appendChild(rectBar);\r\n        // Label\r\n        var txt = document.createElementNS(svg.namespaceURI,'text');\r\n        txt.setAttribute('x', String(-8)); txt.setAttribute('y', String(y + barH/2 + 4));\r\n        txt.setAttribute('text-anchor','end'); txt.setAttribute('fill', th.text);\r\n        txt.setAttribute('font-size','12'); txt.textContent = labels[j]; g.appendChild(txt);\r\n        // Value\r\n        var val = document.createElementNS(svg.namespaceURI,'text');\r\n        val.setAttribute('x', String(Math.max(12,w + 6)));\r\n        val.setAttribute('y', String(y + barH/2 + 4));\r\n        val.setAttribute('fill', th.text); val.setAttribute('font-size','12');\r\n        val.textContent = values[j]; g.appendChild(val);\r\n      }\r\n      svg.appendChild(g); host.appendChild(svg);\r\n    }\r\n    function onResize(){ if (window.__dashboardChartRaf) cancelAnimationFrame(window.__dashboardChartRaf); window.__dashboardChartRaf = requestAnimationFrame(render); }\r\n    window.__dashboardChart = { render: render };\r\n    render();\r\n    window.addEventListener('resize', onResize);\r\n    // Re-render when theme toggles via __setTheme\r\n    try {\r\n      var _origSetTheme = window.__setTheme;\r\n      if (_origSetTheme && !_origSetTheme._patchedForChart){\r\n        window.__setTheme = function(mode){ _origSetTheme(mode); try { window.__dashboardChart && window.__dashboardChart.render(); } catch(_){ } };\r\n        window.__setTheme._patchedForChart = true;\r\n      }\r\n    } catch(_){ }\r\n  } catch(_){ }\r\n};\r\n\r\n// Optional refresh: tries a lightweight JSON endpoint if available, else re-renders current data\r\nwindow.refreshDashboardCharts = async function(){\r\n  try {\r\n    var host = document.getElementById('chart-table-distribution'); if (!host) return;\r\n    // Attempt to fetch fresh distribution; if 404 or error, just re-render current\r\n    try {\r\n      const res = await fetch('/dashboard/api/stats/table_distribution/', { headers: { 'X-Requested-With': 'XMLHttpRequest' } });\r\n      if (res.ok){\r\n        var json = await res.json();\r\n        if (Array.isArray(json)){\r\n          host.setAttribute('data-stats', JSON.stringify(json));\r\n        } else if (json && Array.isArray(json.results)){\r\n          host.setAttribute('data-stats', JSON.stringify(json.results));\r\n        }\r\n      }\r\n    } catch(_){ }\r\n    // Keep donut cards dataset in sync (fallback to the same stats)\r\n    try {\r\n      var donuts = document.getElementById('donut-cards');\r\n      if (donuts && host){ donuts.setAttribute('data-stats', host.getAttribute('data-stats') || '[]'); }\r\n    } catch(_){ }\r\n    if (window.__dashboardChart) window.__dashboardChart.render();\r\n    if (window.__dashboardDonuts && typeof window.__dashboardDonuts.render === 'function') window.__dashboardDonuts.render();\r\n  } catch(_){ }\r\n};\r\n\r\n// ------------------ Dashboard Donut Charts (Users, Artists, Bookings) ------------------\r\n// Reads stats from #donut-cards[data-stats] and renders three donut charts inline.\r\nwindow.__dashboardDonuts = null;\r\nwindow.initDashboardDonuts = function(){\r\n  try {\r\n    var wrapper = document.getElementById('donut-cards'); if (!wrapper) return;\r\n    function parseStats(){ try { return JSON.parse(wrapper.getAttribute('data-stats')||'[]')||[]; } catch(_){ return []; } }\r\n    function theme(){\r\n      var isDark = document.documentElement.classList.contains('dark');\r\n      return isDark ? { text:'#E5E7EB', track:'#374151', users:'#60A5FA', artists:'#34D399', bookings:'#FBBF24' }\r\n                    : { text:'#111827', track:'#E5E7EB', users:'#2563EB', artists:'#10B981', bookings:'#F59E0B' };\r\n    }\r\n    function pick(label){\r\n      var s = String(label||'').trim().toLowerCase();\r\n      if (s === 'user') return 'users';\r\n      if (s === 'verified-artist' || s === 'artist' || s === 'artists') return 'artists';\r\n      if (s === 'booking' || s === 'bookings') return 'bookings';\r\n      return null;\r\n    }\r\n    function summarize(){\r\n      var data = parseStats(); var sums = { users:0, artists:0, bookings:0 };\r\n      for (var i=0;i<data.length;i++){ var k = pick(data[i].label); if (k) sums[k] += Math.max(0, Number(data[i].count)||0); }\r\n      return sums;\r\n    }\r\n    function renderDonut(hostId, value, total, color){\r\n      var host = document.getElementById(hostId); if (!host) return;\r\n      host.innerHTML = '';\r\n      var size = Math.max(120, Math.min(host.clientWidth||160, host.clientHeight||160));\r\n      var radius = Math.floor((size/2) - 8); var stroke = 10; var c = 2 * Math.PI * radius;\r\n      var th = theme();\r\n      var svg = document.createElementNS('http://www.w3.org/2000/svg','svg');\r\n      svg.setAttribute('viewBox', '0 0 '+size+' '+size); svg.setAttribute('width','100%'); svg.setAttribute('height','100%');\r\n      var cx = size/2, cy = size/2;\r\n      // Track\r\n      var track = document.createElementNS(svg.namespaceURI,'circle');\r\n      track.setAttribute('cx', cx); track.setAttribute('cy', cy); track.setAttribute('r', radius);\r\n      track.setAttribute('fill','none'); track.setAttribute('stroke', th.track); track.setAttribute('stroke-width', stroke);\r\n      svg.appendChild(track);\r\n      // Arc\r\n      var pct = total>0 ? (value/total) : 0; pct = Math.max(0, Math.min(1, pct));\r\n      var arc = document.createElementNS(svg.namespaceURI,'circle');\r\n      arc.setAttribute('cx', cx); arc.setAttribute('cy', cy); arc.setAttribute('r', radius);\r\n      arc.setAttribute('fill','none'); arc.setAttribute('stroke', color); arc.setAttribute('stroke-width', stroke);\r\n      arc.setAttribute('stroke-linecap','round');\r\n      arc.setAttribute('stroke-dasharray', c.toString());\r\n      arc.setAttribute('stroke-dashoffset', String(c * (1 - pct)));\r\n      arc.setAttribute('transform', 'rotate(-90 '+cx+' '+cy+')');\r\n      svg.appendChild(arc);\r\n      // Center label\r\n      var txt = document.createElementNS(svg.namespaceURI,'text');\r\n      txt.setAttribute('x', cx); txt.setAttribute('y', cy+4); txt.setAttribute('text-anchor','middle'); txt.setAttribute('fill', th.text); txt.setAttribute('font-size','14'); txt.setAttribute('font-weight','700');\r\n      txt.textContent = total>0 ? Math.round(pct*100)+'%' : '\u2014';\r\n      svg.appendChild(txt);\r\n      host.appendChild(svg);\r\n    }\r\n    function render(){\r\n      var sums = summarize(); var total = sums.users + sums.artists + sums.bookings; var th = theme();\r\n      renderDonut('donut-users', sums.users, total, th.users);\r\n      renderDonut('donut-artists', sums.artists, total, th.artists);\r\n      renderDonut('donut-bookings', sums.bookings, total, th.bookings);\r\n    }\r\n    function onResize(){ if (window.__dashboardDonutRaf) cancelAnimationFrame(window.__dashboardDonutRaf); window.__dashboardDonutRaf = requestAnimationFrame(render); }\r\n    window.__dashboardDonuts = { render: render };\r\n    render();\r\n    window.addEventListener('resize', onResize);\r\n    // Re-render on theme change\r\n    try {\r\n      var _origSetTheme2 = window.__setTheme;\r\n      if (_origSetTheme2 && !_origSetTheme2._patchedForDonut){\r\n        window.__setTheme = function(mode){ _origSetTheme2(mode); try { window.__dashboardDonuts && window.__dashboardDonuts.render(); } catch(_){ } };\r\n        window.__setTheme._patchedForDonut = true;\r\n      }\r\n    } catch(_){ }\r\n  } catch(_){ }\r\n};\r\n\r\n// ---------------- Right-hand Online Admins Sidebar ----------------\r\n(function onlineAdminsSidebar(){\r\n  function qs(id){ return document.getElementById(id); }\r\n  function initials(name){ try { name = String(name||''); return name.trim().charAt(0).toUpperCase() || '?'; } catch(_){ return '?'; } }\r\n  function esc(s){ try { const d=document.createElement('div'); d.textContent=String(s==null?'':s); return d.innerHTML; } catch(_){ return String(s||''); } }\r\n  function cardFor(a){\r\n    var li = document.createElement('li');\r\n    li.className = 'p-2.5 rounded-xl border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition flex items-center gap-3.5';\r\n    var avatar = document.createElement('div');\r\n    avatar.className = 'w-9 h-9 rounded-full overflow-hidden bg-gray-300 dark:bg-gray-700 flex items-center justify-center text-sm font-semibold shrink-0 relative ring-1 ring-gray-900/5 dark:ring-white/10';\r\n    if (a.avatar){\r\n      var img = document.createElement('img'); img.src = a.avatar; img.alt = 'Avatar'; img.loading = 'lazy'; img.className = 'w-full h-full object-cover'; avatar.appendChild(img);\r\n    } else {\r\n      avatar.textContent = initials(a.name || a.user_name || a.username || a.full_name || '');\r\n    }\r\n    var dot = document.createElement('span'); dot.className = 'absolute -right-0 -bottom-0 w-3 h-3 rounded-full border-2 border-white dark:border-gray-800 bg-green-500';\r\n    // Add a subtle ping ring for online\r\n    var ping = document.createElement('span'); ping.className = 'absolute -right-0 -bottom-0 w-3 h-3 rounded-full bg-green-400/60 dark:bg-green-300/50 animate-ping'; avatar.appendChild(ping);\r\n    avatar.appendChild(dot);\r\n    var info = document.createElement('div'); info.className = 'flex-1 min-w-0';\r\n    var line = document.createElement('div'); line.className = 'text-[13px] md:text-sm font-semibold text-gray-900 dark:text-gray-100 truncate'; line.textContent = a.full_name || a.username || a.user_name || 'Admin';\r\n    info.appendChild(line);\r\n    var act = document.createElement('button'); act.type = 'button'; act.className = 'ml-auto px-2.5 py-1 text-xs font-medium bg-blue-600 text-white rounded-lg hover:bg-blue-700'; act.textContent = 'Message';\r\n    act.addEventListener('click', function(e){\r\n      e.preventDefault();\r\n      try {\r\n        if (typeof window.openMessageOverlay === 'function') { window.openMessageOverlay(a); return; }\r\n        if (typeof window.loadAdminManagement === 'function') {\r\n          window.loadAdminManagement();\r\n          setTimeout(function(){ try { if (typeof window.openMessageOverlay === 'function') window.openMessageOverlay(a); } catch(_){ } }, 700);\r\n        }\r\n      } catch(_){ }\r\n    });\r\n    li.appendChild(avatar); li.appendChild(info); li.appendChild(act);\r\n    return li;\r\n  }\r\n  async function fetchOnline(){\r\n    try {\r\n      const res = await fetch('/dashboard/api/admins/', { headers: { 'X-Requested-With': 'XMLHttpRequest' }, credentials: 'same-origin' });\r\n      const data = await res.json();\r\n      const list = (data && data.results) ? data.results : (Array.isArray(data) ? data : []);\r\n      // Filter online only\r\n      const online = list.filter(function(x){ return String(x && x.status).toLowerCase() === 'online'; });\r\n      return online;\r\n    } catch(_){ return []; }\r\n  }\r\n  function render(list){\r\n    try {\r\n      var ul = qs('online-admins-list'); if (!ul) return;\r\n      ul.setAttribute('aria-busy','true');\r\n      ul.innerHTML = '';\r\n      if (!list || !list.length){\r\n        var empty = document.createElement('li'); empty.className = 'text-xs text-gray-500 dark:text-gray-400 px-2 py-1'; empty.textContent = 'No one online'; ul.appendChild(empty);\r\n      } else {\r\n        var frag = document.createDocumentFragment();\r\n        list.forEach(function(a){ frag.appendChild(cardFor(a)); });\r\n        ul.appendChild(frag);\r\n      }\r\n      ul.setAttribute('aria-busy','false');\r\n    } catch(_){ }\r\n  }\r\n  async function refresh(){ render(await fetchOnline()); }\r\n  window.refreshOnlineAdmins = refresh;\r\n  // Start polling when sidebar exists\r\n  function start(){\r\n    try {\r\n      if (!qs('right-sidebar')) return;\r\n      // Force-show on md+ viewports in case 'hidden' persists\r\n      try {\r\n        var mql = window.matchMedia && window.matchMedia('(min-width: 768px)');\r\n        if (mql && mql.matches) {\r\n          var rs = qs('right-sidebar'); if (rs) rs.classList.remove('hidden');\r\n          // Ensure content root right margin present\r\n          var main = document.getElementById('content-root'); if (main && !main.classList.contains('md:mr-64')) { main.classList.add('md:mr-64'); }\r\n        }\r\n      } catch(_){ }\r\n      refresh();\r\n      if (window.__onlineAdminsTimer) { clearInterval(window.__onlineAdminsTimer); }\r\n      window.__onlineAdminsTimer = setInterval(refresh, 8000);\r\n      // collapse on mobile button\r\n      var btn = document.getElementById('toggleRightSidebar'); if (btn){ btn.addEventListener('click', function(){ var a = qs('right-sidebar'); if (a) a.classList.toggle('hidden'); }); }\r\n    } catch(_){ }\r\n  }\r\n  if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', start); else start();\r\n\r\n  // Avoid overlapping footer like left sidebar\r\n  (function adjustRight(){\r\n    function calc(){\r\n      try {\r\n        var aside = document.getElementById('right-sidebar'); var footer = document.querySelector('footer'); if (!aside || !footer) return;\r\n        var fr = footer.getBoundingClientRect(); var vpH = window.innerHeight || document.documentElement.clientHeight; var visible = fr.top < vpH; aside.style.bottom = visible ? (footer.offsetHeight||0) + 'px' : '0px';\r\n      } catch(_){ }\r\n    }\r\n    var raf; function on(){ if (raf) cancelAnimationFrame(raf); raf = requestAnimationFrame(calc); }\r\n    window.addEventListener('scroll', on, { passive: true }); window.addEventListener('resize', on); try { new ResizeObserver(on).observe(document.querySelector('footer')); } catch(_){ }\r\n    document.addEventListener('DOMContentLoaded', calc); setTimeout(calc, 0);\r\n  })();\r\n})();\r\n\r\n// Ensure human-friendly table labels are available even when the tables partial\r\n// is injected via innerHTML (its inline scripts won't execute).\r\n(function ensureLabelHelper(){\r\n  try {\r\n    window.__TABLE_LABELS_DEFAULT = window.__TABLE_LABELS_DEFAULT || {\r\n      1: 'Admin',\r\n      2: 'User',\r\n      3: 'Verified-Artist',\r\n      4: 'Payment',\r\n      5: 'Artist Service',\r\n      6: 'Artist Application',\r\n      7: 'Artist Availability',\r\n      8: 'Artist-Calendar',\r\n      9: 'Booking',\r\n      10: 'Message'\r\n    };\r\n    if (typeof window.getTableLabel !== 'function') {\r\n      window.getTableLabel = function(id){\r\n        var key = parseInt(id, 10);\r\n        var map = (window.TABLE_LABELS || window.__TABLE_LABELS_DEFAULT || {});\r\n        return map[key] || ('Table ' + key);\r\n      };\r\n    }\r\n  } catch(_){ }\r\n})();\r\n\r\n// Expose the current admin avatar URL from the sidebar (if present)\r\n(function exposeAdminAvatarUrl(){\r\n  try {\r\n    var el = document.querySelector('[data-admin-avatar-url]');\r\n    var url = el ? el.getAttribute('data-admin-avatar-url') : '';\r\n    if (url) { window.__admin_avatar_url = url; }\r\n  } catch (e) { /* no-op */ }\r\n})();\r\n\r\n// Load Tables via AJAX and inject into content-root\r\nwindow.loadTables = async function(){\r\n  try {\r\n    window.startLoading && window.startLoading();\r\n    window.updateAriaStatus && window.updateAriaStatus('Loading tables\u2026');\r\n    const res = await fetch(ADMIN_PREFIX + '/tables/', { headers: { 'X-Requested-With': 'XMLHttpRequest' } });\r\n    try { var _hdr = res.headers && res.headers.get('X-Label-Map'); if (_hdr) { window.TABLE_LABELS = JSON.parse(_hdr); } } catch(_){ }\r\n    const html = await res.text();\r\n    var root = document.getElementById('content-root');\r\n    if (root) root.innerHTML = html;\r\n    function initTables(){\r\n      try {\r\n        const picker = document.getElementById('tablePicker');\r\n        const loadBtn = document.getElementById('loadTableBtn');\r\n        const refreshBtn = document.getElementById('refreshActiveBtn');\r\n        function ensureDashReady(cb){\r\n          try {\r\n            if (typeof window.refreshTable === 'function' && typeof window.setActiveTable === 'function') { cb && cb(); return; }\r\n            var existing = document.querySelector('script[data-dash-js]');\r\n            if (existing) { setTimeout(function(){ ensureDashReady(cb); }, 0); return; }\r\n            var s = document.createElement('script');\r\n            s.src = '/static/js/dashboard.js?v=dev';\r\n            s.setAttribute('data-dash-js','1');\r\n            s.onload = function(){ cb && cb(); };\r\n            document.head.appendChild(s);\r\n          } catch(_) { }\r\n        }\r\n        const initial = picker ? picker.value : 1;\r\n        ensureDashReady(()=> { if (typeof window.setActiveTable === 'function') window.setActiveTable(initial); });\r\n        if (loadBtn) loadBtn.addEventListener('click', ()=> ensureDashReady(()=> window.setActiveTable(picker.value)));\r\n        if (refreshBtn) refreshBtn.addEventListener('click', ()=> ensureDashReady(()=> window.refreshTable(parseInt(picker.value))));\r\n        if (picker) picker.addEventListener('change', ()=> ensureDashReady(()=> window.setActiveTable(picker.value)));\r\n        (function initCustomTableDropdown(){\r\n          try {\r\n            var wrapper = document.getElementById('tablePickerWrapper');\r\n            if (!wrapper || wrapper.getAttribute('data-initialized') === '1') return;\r\n            var select = document.getElementById('tablePicker');\r\n            var displayBtn = document.getElementById('tablePickerDisplay');\r\n            var list = document.getElementById('tablePickerList');\r\n            var text = document.getElementById('tablePickerSelectedText');\r\n            if (!select || !displayBtn || !list || !text) return;\r\n            function openList(){ list.classList.remove('hidden'); displayBtn.setAttribute('aria-expanded','true'); }\r\n            function closeList(){ list.classList.add('hidden'); displayBtn.setAttribute('aria-expanded','false'); }\r\n            function toggleList(){ if (list.classList.contains('hidden')) openList(); else closeList(); }\r\n            function setSelected(value){ if (!value) return; select.value = String(value); text.textContent = (window.getTableLabel ? window.getTableLabel(value) : ('Table ' + value)); var ev = document.createEvent('HTMLEvents'); ev.initEvent('change', true, false); select.dispatchEvent(ev); closeList(); }\r\n            text.textContent = (function(){ var v = (select && select.value ? select.value : (select && select.options[0] ? select.options[0].value : '1')); return (window.getTableLabel ? window.getTableLabel(v) : ('Table ' + v)); })();\r\n            try {\r\n              var items = list.querySelectorAll('li[role=\"option\"]');\r\n              for (var i = 0; i < items.length; i++){\r\n                var v = items[i].getAttribute('data-value');\r\n                var labelEl = items[i].querySelector('[data-role=\"label\"]');\r\n                if (labelEl) { labelEl.textContent = window.getTableLabel(v); }\r\n              }\r\n            } catch(_){ }\r\n            try {\r\n              var cards = document.querySelectorAll('[data-table-card]');\r\n              for (var j = 0; j < cards.length; j++){\r\n                var tid = cards[j].getAttribute('data-table-card');\r\n                var h2 = cards[j].querySelector('h2.font-semibold');\r\n                if (h2) { h2.textContent = window.getTableLabel(tid); }\r\n              }\r\n            } catch(_){ }\r\n            displayBtn.addEventListener('click', function(){ toggleList(); });\r\n            list.addEventListener('click', function(e){ var li = e.target.closest('li[role=\"option\"]'); if (!li) return; setSelected(li.getAttribute('data-value')); });\r\n            displayBtn.addEventListener('keydown', function(e){ if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleList(); } if (e.key === 'Escape') { closeList(); } });\r\n            list.addEventListener('keydown', function(e){ if (e.key === 'Escape') { closeList(); } });\r\n            document.addEventListener('click', function(e){ if (!wrapper.contains(e.target)) closeList(); });\r\n            wrapper.setAttribute('data-initialized','1');\r\n          } catch(_){ }\r\n        })();\r\n        try { document.title = (document.title || '').replace(/\\s\u00B7\\s.*$/, '') + ' \u00B7 Tables'; } catch(e){ }\r\n        window.showNotification && window.showNotification('Tables', 'info');\r\n        try { if (window.history && window.history.pushState) { window.history.pushState({ page: 'tables' }, '', ADMIN_PREFIX + '/tables/'); } } catch(e){ }\r\n        if (typeof window.setActiveSidebar === 'function') { window.setActiveSidebar(ADMIN_PREFIX + '/tables/'); }\r\n        if (window.__tablesAutoTimer) { clearInterval(window.__tablesAutoTimer); window.__tablesAutoTimer = null; }\r\n        window.__tablesAutoTimer = setInterval(function(){\r\n          try {\r\n            var sel = document.getElementById('tablePicker');\r\n            var tid = sel ? parseInt(sel.value, 10) : 1;\r\n            var pausedUntil = (typeof window.__tablesPauseUntil !== 'undefined') ? window.__tablesPauseUntil : 0;\r\n            if (Date.now() <= (pausedUntil || 0)) { return; }\r\n            if (typeof refreshTable === 'function') { refreshTable(tid); }\r\n          } catch(_) { }\r\n        }, 120000);\r\n      } catch (e) {\r\n        window.location.href = '/dashboard/tables/';\r\n      }\r\n    }\r\n    if (typeof window.refreshTable !== 'function' || typeof window.refreshLogs !== 'function'){\r\n      var already = document.querySelector('script[data-dash-js]');\r\n      if (!already){\r\n        var s = document.createElement('script');\r\n        s.src = '/static/js/dashboard.js?v=dev';\r\n        s.async = true;\r\n        s.setAttribute('data-dash-js','1');\r\n        s.onload = initTables;\r\n        s.onerror = function(){ window.location.href = ADMIN_PREFIX + '/tables/'; };\r\n        document.head.appendChild(s);\r\n      } else {\r\n        setTimeout(initTables, 0);\r\n      }\r\n    } else {\r\n      initTables();\r\n    }\r\n    window.toggleSidebar && window.toggleSidebar(false);\r\n    window.updateAriaStatus && window.updateAriaStatus('Tables loaded');\r\n  } catch (e) {\r\n    window.updateAriaStatus && window.updateAriaStatus('Failed to load tables');\r\n    window.showNotification && window.showNotification('Failed to load tables', 'error');\r\n    window.location.href = ADMIN_PREFIX + '/tables/';\r\n  } finally { window.stopLoading && window.stopLoading(); }\r\n};\r\n\r\n// Click handler used by the sidebar link to prefer AJAX navigation with a graceful fallback\r\nwindow.navToTables = function(ev){\r\n  try {\r\n    if (ev && ev.preventDefault) ev.preventDefault();\r\n    window.loadTables && window.loadTables();\r\n    return false;\r\n  } catch(e){ return true; }\r\n};\r\n\r\n// Mobile sidebar toggle\r\nwindow.toggleSidebar = function(force){\r\n  var aside = document.getElementById('sidebar');\r\n  var overlay = document.getElementById('sidebar-overlay');\r\n  if (!aside) return;\r\n  var currentlyHidden = aside.classList.contains('hidden');\r\n  var open = (force === true) || (force === undefined && currentlyHidden) ? true\r\n            : (force === false) ? false\r\n            : !currentlyHidden;\r\n  if (open){\r\n    aside.classList.remove('hidden');\r\n    if (overlay) overlay.classList.remove('hidden');\r\n  } else {\r\n    aside.classList.add('hidden');\r\n    if (overlay) overlay.classList.add('hidden');\r\n  }\r\n};\r\n// Close sidebar on Escape (mobile)\r\ndocument.addEventListener('keydown', function(e){ if (e.key === 'Escape') window.toggleSidebar(false); });\r\n\r\n// Load Admin Profile via AJAX and inject into content-root\r\nwindow.loadAdminProfile = async function(){\r\n  try {\r\n    window.startLoading && window.startLoading();\r\n    window.updateAriaStatus && window.updateAriaStatus('Loading profile\u2026');\r\n    const res = await fetch(AUTH_BASE + '/profile/', { headers: { 'X-Requested-With': 'XMLHttpRequest' } });\r\n    const html = await res.text();\r\n    var root = document.getElementById('content-root');\r\n    if (root) root.innerHTML = html;\r\n    (function bindProfileUI(){\r\n      try {\r\n        const container = document.getElementById('content-root');\r\n        if (!container) return;\r\n        const editBtn = container.querySelector('#profile-edit-btn');\r\n        if (editBtn) editBtn.addEventListener('click', function(){ if (typeof window.profileEnterEditMode==='function') window.profileEnterEditMode(); });\r\n        const cancelBtn = container.querySelector('#profile-cancel-btn');\r\n        if (cancelBtn) cancelBtn.addEventListener('click', function(){ if (typeof window.profileCancelEdit==='function') window.profileCancelEdit(); });\r\n        const avatarInput = container.querySelector('#avatar-input');\r\n        if (avatarInput) avatarInput.addEventListener('change', function(){ if (typeof window.profileUploadAvatar==='function') window.profileUploadAvatar(avatarInput); });\r\n        const avatarInputEdit = container.querySelector('#avatar-input-edit');\r\n        if (avatarInputEdit) avatarInputEdit.addEventListener('change', function(){ if (typeof window.profileUploadAvatar==='function') window.profileUploadAvatar(avatarInputEdit); });\r\n        container.querySelectorAll('button').forEach(function(btn){\r\n          const t = (btn.textContent||'').trim().toLowerCase();\r\n          if (t === 'delete') { btn.addEventListener('click', function(){ if (typeof window.profileDeleteAvatar==='function') window.profileDeleteAvatar(); }); }\r\n        });\r\n        const editForm = container.querySelector('#profile-edit-form');\r\n        if (editForm) editForm.addEventListener('submit', function(ev){ if (typeof window.profileSave==='function') window.profileSave(ev); });\r\n        const pwdForm = container.querySelector('#password-form');\r\n        if (pwdForm) pwdForm.addEventListener('submit', function(ev){ if (typeof window.profileChangePassword==='function') window.profileChangePassword(ev); });\r\n\r\n        // Attach Tailwind-styled datepicker to birth_date without adding new files\r\n        try {\r\n          const birthInput = container.querySelector('#profile-edit-form input[name=\"birth_date\"]');\r\n          if (birthInput) { attachTailwindDatepicker(birthInput); }\r\n        } catch(_){ }\r\n\r\n        // Mirror latest avatar from profile view into the left sidebar card\r\n        try {\r\n          var profileAvatarEl = container.querySelector(\".w-36.h-36 img, img[alt='Avatar']\");\r\n          var sidebarCard = document.querySelector('.user-profile-card');\r\n          if (sidebarCard) {\r\n            var sidebarHolder = sidebarCard.querySelector('.w-12.h-12.rounded-full.overflow-hidden');\r\n            var sidebarImg = sidebarHolder ? sidebarHolder.querySelector('img') : null;\r\n            // Determine current URL in the profile view\r\n            var newUrl = profileAvatarEl && profileAvatarEl.getAttribute('src');\r\n            if (newUrl) {\r\n              if (sidebarImg) { sidebarImg.src = newUrl; }\r\n              else if (sidebarHolder) {\r\n                sidebarHolder.innerHTML = '';\r\n                var simg = document.createElement('img');\r\n                simg.alt = 'Profile'; simg.loading = 'lazy'; simg.className = 'w-full h-full object-cover'; simg.src = newUrl; sidebarHolder.appendChild(simg);\r\n              }\r\n              try { sidebarCard.setAttribute('data-admin-avatar-url', newUrl); } catch(_){ }\r\n            } else {\r\n              // No avatar: ensure placeholder is visible\r\n              if (sidebarHolder && sidebarImg) { sidebarHolder.removeChild(sidebarImg); }\r\n            }\r\n          }\r\n        } catch(_){ }\r\n      } catch(_) {}\r\n    })();\r\n    window.updateAriaStatus && window.updateAriaStatus('Profile loaded');\r\n    window.toggleSidebar && window.toggleSidebar(false);\r\n    window.showNotification && window.showNotification('Profile', 'info');\r\n  } catch (e) {\r\n    window.updateAriaStatus && window.updateAriaStatus('Failed to load profile');\r\n    window.showNotification && window.showNotification('Failed to load profile', 'error');\r\n  } finally { window.stopLoading && window.stopLoading(); }\r\n};\r\n\r\n// Admin Profile global helpers\r\nwindow.profileEnterEditMode = function(){\r\n  var v = document.getElementById('profile-view-mode');\r\n  var e = document.getElementById('profile-edit-mode');\r\n  if (!v || !e) return;\r\n  v.classList.add('hidden');\r\n  e.classList.remove('hidden');\r\n  try {\r\n    var btn = document.getElementById('profile-edit-btn');\r\n    if (btn) btn.setAttribute('aria-expanded','true');\r\n  } catch(_){}\r\n  window.updateAriaStatus && window.updateAriaStatus('Edit mode enabled');\r\n};\r\nwindow.profileCancelEdit = function(){\r\n  var v = document.getElementById('profile-view-mode');\r\n  var e = document.getElementById('profile-edit-mode');\r\n  if (!v || !e) return;\r\n  e.classList.add('hidden');\r\n  v.classList.remove('hidden');\r\n  try {\r\n    var btn = document.getElementById('profile-edit-btn');\r\n    if (btn) btn.setAttribute('aria-expanded','false');\r\n  } catch(_){}\r\n  window.updateAriaStatus && window.updateAriaStatus('Edit mode cancelled');\r\n};\r\nwindow.profileSave = async function(ev){\r\n  ev && ev.preventDefault && ev.preventDefault();\r\n  var form = document.getElementById('profile-edit-form');\r\n  if (!form) return;\r\n  const formData = new FormData(form);\r\n  try { var _tok = (window.getCSRFToken && window.getCSRFToken()); if (_tok && !formData.has('csrfmiddlewaretoken')) formData.append('csrfmiddlewaretoken', _tok); } catch(_){ }\r\n  try{\r\n    const _fetch = (window.fetchWithCSRF || window.fetch);\r\n    const res = await _fetch(AUTH_BASE + '/profile/update/', {\r\n      method: 'POST',\r\n      body: formData\r\n    });\r\n    const data = await res.json();\r\n    if(data.success){\r\n      window.updateAriaStatus && window.updateAriaStatus('Profile saved');\r\n      window.showNotification && window.showNotification('Profile updated', 'success');\r\n      window.loadAdminProfile && window.loadAdminProfile();\r\n    } else {\r\n      window.showNotification && window.showNotification('Save failed', 'error');\r\n    }\r\n  } catch(err){\r\n    window.showNotification && window.showNotification('Network error', 'error');\r\n  }\r\n};\r\nwindow.profileUploadAvatar = async function(input){\r\n  if(!input || !input.files || !input.files[0]) return;\r\n  const fd = new FormData();\r\n  fd.append('avatar', input.files[0]);\r\n  try { var _tok = (window.getCSRFToken && window.getCSRFToken()); if (_tok) fd.append('csrfmiddlewaretoken', _tok); } catch(_){ }\r\n  try{\r\n    const _fetch = (window.fetchWithCSRF || window.fetch);\r\n    const res = await _fetch(AUTH_BASE + '/profile/avatar/', {\r\n      method: 'POST',\r\n      body: fd\r\n    });\r\n    const data = await res.json();\r\n    if(data.success){\r\n      window.updateAriaStatus && window.updateAriaStatus('Avatar updated');\r\n      // Immediately reflect in left sidebar without full page reload\r\n      try {\r\n        var card = document.querySelector('.user-profile-card');\r\n        if (card) {\r\n          var holder = card.querySelector('.w-12.h-12.rounded-full.overflow-hidden');\r\n          var img = holder ? holder.querySelector('img') : null;\r\n          var url = URL.createObjectURL(input.files[0]);\r\n          if (img) { img.src = url; }\r\n          else if (holder) {\r\n            // Replace placeholder SVG with an <img>\r\n            holder.innerHTML = '';\r\n            var i = document.createElement('img');\r\n            i.alt = 'Profile'; i.loading = 'lazy'; i.className = 'w-full h-full object-cover'; i.src = url; holder.appendChild(i);\r\n          }\r\n          try { card.setAttribute('data-admin-avatar-url', url); } catch(_){ }\r\n        }\r\n      } catch(_){ }\r\n      window.loadAdminProfile && window.loadAdminProfile();\r\n    } else {\r\n      var msg = (data && (data.error || data.message)) || 'Avatar upload failed';\r\n      window.showNotification && window.showNotification(msg, 'error');\r\n    }\r\n  } catch(err){\r\n    window.showNotification && window.showNotification('Avatar upload error', 'error');\r\n  }\r\n};\r\nwindow.profileDeleteAvatar = async function(){\r\n  try{\r\n    const _fetch = (window.fetchWithCSRF || window.fetch);\r\n    var fd = new FormData();\r\n    try { var _tok = (window.getCSRFToken && window.getCSRFToken()); if (_tok) fd.append('csrfmiddlewaretoken', _tok); } catch(_){ }\r\n    const res = await _fetch(AUTH_BASE + '/profile/avatar/delete/', { method: 'POST', body: fd });\r\n    const data = await res.json();\r\n    if(data.success){\r\n      window.updateAriaStatus && window.updateAriaStatus('Avatar removed');\r\n      try {\r\n        var card = document.querySelector('.user-profile-card');\r\n        var holder = card && card.querySelector('.w-12.h-12.rounded-full.overflow-hidden');\r\n        var img = holder && holder.querySelector('img');\r\n        if (holder && img) { holder.removeChild(img); }\r\n        if (card) { card.setAttribute('data-admin-avatar-url', ''); }\r\n      } catch(_){ }\r\n      window.loadAdminProfile && window.loadAdminProfile();\r\n    } else {\r\n      window.showNotification && window.showNotification('Avatar delete failed', 'error');\r\n    }\r\n  } catch(err){\r\n    window.showNotification && window.showNotification('Avatar delete error', 'error');\r\n  }\r\n};\r\nwindow.profileChangePassword = async function(ev){\r\n  ev && ev.preventDefault && ev.preventDefault();\r\n  var form = document.getElementById('password-form');\r\n  if (!form) return;\r\n  const fd = new FormData(form);\r\n  try{\r\n    const res = await fetch(AUTH_BASE + '/profile/password/', {\r\n      method: 'POST',\r\n      headers: { 'X-CSRFToken': window.getCookie && window.getCookie('csrftoken') },\r\n      body: fd\r\n    });\r\n    const data = await res.json();\r\n    if(data.success){\r\n      window.updateAriaStatus && window.updateAriaStatus('Password updated');\r\n      window.showNotification && window.showNotification('Password updated', 'success');\r\n      form.reset();\r\n    } else {\r\n      window.showNotification && window.showNotification(data.error || 'Password update failed', 'error');\r\n    }\r\n  } catch(err){\r\n    window.showNotification && window.showNotification('Password update error', 'error');\r\n  }\r\n};\r\n\r\n// ------------------ Lightweight Tailwind Datepicker ------------------\r\n// Usage: attachTailwindDatepicker(inputEl)\r\n// - Does not require external files\r\n// - Keeps input value in YYYY-MM-DD for server\r\n// - Dark mode aware via Tailwind classes on <html>.dark\r\nwindow.attachTailwindDatepicker = function(input){\r\n  try {\r\n    if (!input || input._twDatepicker) return;\r\n    // Normalize to text field for consistent control across browsers\r\n    var initialType = input.getAttribute('type') || 'text';\r\n    if (initialType !== 'text') input.setAttribute('type','text');\r\n    input.setAttribute('inputmode','numeric');\r\n    input.setAttribute('placeholder','YYYY-MM-DD');\r\n    // Utils\r\n    function pad(n){ return (n<10?'0':'') + n; }\r\n    function fmt(d){ return d ? (d.getFullYear() + '-' + pad(d.getMonth()+1) + '-' + pad(d.getDate())) : ''; }\r\n    function parse(v){\r\n      try {\r\n        if (!v) return null; var m = String(v).match(/^(\\d{4})-(\\d{2})-(\\d{2})$/); if (!m) return null; var d = new Date(parseInt(m[1],10), parseInt(m[2],10)-1, parseInt(m[3],10));\r\n        return isNaN(d.getTime()) ? null : d;\r\n      } catch(_) { return null; }\r\n    }\r\n    function sameDay(a,b){ return a && b && a.getFullYear()===b.getFullYear() && a.getMonth()===b.getMonth() && a.getDate()===b.getDate(); }\r\n    // Host popover\r\n    var host = document.createElement('div');\r\n    host.className = 'absolute z-50 mt-1 w-64 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl p-2 hidden';\r\n    host.setAttribute('role','dialog');\r\n    var header = document.createElement('div'); header.className = 'flex items-center justify-between mb-2';\r\n    var prev = document.createElement('button'); prev.type='button'; prev.className='p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800'; prev.innerHTML='&#x2039;';\r\n    var next = document.createElement('button'); next.type='button'; next.className='p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800'; next.innerHTML='&#x203A;';\r\n    var title = document.createElement('div'); title.className='text-sm font-medium';\r\n    header.appendChild(prev); header.appendChild(title); header.appendChild(next);\r\n    var grid = document.createElement('div'); grid.className = 'grid grid-cols-7 gap-1';\r\n    var weekdays = ['Su','Mo','Tu','We','Th','Fr','Sa'];\r\n    var wk = document.createElement('div'); wk.className='grid grid-cols-7 gap-1 mb-1 text-[11px] text-gray-500 dark:text-gray-400';\r\n    weekdays.forEach(function(w){ var s=document.createElement('div'); s.className='text-center'; s.textContent=w; wk.appendChild(s); });\r\n    host.appendChild(header); host.appendChild(wk); host.appendChild(grid);\r\n    // Insert host\r\n    input.parentElement.style.position = input.parentElement.style.position || 'relative';\r\n    input.parentElement.appendChild(host);\r\n    // State\r\n    var current = parse(input.value) || new Date(); current.setHours(0,0,0,0);\r\n    var selected = parse(input.value);\r\n    function render(){\r\n      grid.innerHTML='';\r\n      var year=current.getFullYear(), month=current.getMonth();\r\n      title.textContent = current.toLocaleString(undefined, { month:'long', year:'numeric' });\r\n      var first = new Date(year, month, 1);\r\n      var start = new Date(first); start.setDate(first.getDate() - first.getDay());\r\n      for (var i=0;i<42;i++){\r\n        var d = new Date(start); d.setDate(start.getDate()+i);\r\n        var btn = document.createElement('button'); btn.type='button';\r\n        var isOther = d.getMonth() !== month;\r\n        btn.className = 'text-sm px-2 py-1 rounded text-center w-8 h-8 flex items-center justify-center ' + (isOther ? 'text-gray-400 dark:text-gray-500 ' : 'text-gray-900 dark:text-gray-100 ') + (sameDay(d, selected) ? 'bg-blue-600 text-white ' : 'hover:bg-gray-100 dark:hover:bg-gray-800 ');\r\n        btn.textContent = d.getDate();\r\n        btn.addEventListener('click', function(dd){ return function(){ selected = dd; input.value = fmt(dd); close(); input.dispatchEvent(new Event('change', { bubbles: true })); }; }(new Date(d)));\r\n        grid.appendChild(btn);\r\n      }\r\n    }\r\n    function open(){ host.classList.remove('hidden'); position(); document.addEventListener('keydown', onEsc, true); document.addEventListener('click', onDoc, true); }\r\n    function close(){ host.classList.add('hidden'); document.removeEventListener('keydown', onEsc, true); document.removeEventListener('click', onDoc, true); }\r\n    function onEsc(e){ if (e.key==='Escape') close(); }\r\n    function onDoc(e){ if (!host.contains(e.target) && e.target!==input) close(); }\r\n    function position(){\r\n      try {\r\n        var r = input.getBoundingClientRect(); var pr = input.parentElement.getBoundingClientRect();\r\n        host.style.left = Math.max(0, r.left - pr.left) + 'px';\r\n      } catch(_){ }\r\n    }\r\n    prev.addEventListener('click', function(){ current.setMonth(current.getMonth()-1); render(); });\r\n    next.addEventListener('click', function(){ current.setMonth(current.getMonth()+1); render(); });\r\n    input.addEventListener('focus', function(){ render(); open(); });\r\n    input.addEventListener('click', function(){ render(); open(); });\r\n    input.addEventListener('blur', function(){ /* allow click into picker */ });\r\n    input.addEventListener('input', function(){ var d=parse(input.value); if (d){ selected=d; current=new Date(d); current.setDate(1); } });\r\n    input._twDatepicker = { open: open, close: close };\r\n  } catch(_){ }\r\n};\r\n\r\n// Load Admin Management via AJAX and inject into content-root\r\nwindow.loadAdminManagement = async function(){\r\n  try {\r\n    window.startLoading && window.startLoading();\r\n    window.updateAriaStatus && window.updateAriaStatus('Loading admin management\u2026');\r\n    const res = await fetch(ADMIN_PREFIX + '/Admin_management/', { headers: { 'X-Requested-With': 'XMLHttpRequest' } });\r\n    const html = await res.text();\r\n    var root = document.getElementById('content-root');\r\n    if (root) root.innerHTML = html;\r\n    function ensureAdminJS(cb){\r\n      try {\r\n        if (typeof window.initAdminManagement === 'function') { cb && cb(); return; }\r\n        var existing = document.querySelector(\"script[src$='/static/js/admin_management.js']\");\r\n        if (existing) { setTimeout(function(){ ensureAdminJS(cb); }, 0); return; }\r\n        var s = document.createElement('script');\r\n        s.src = '/static/js/admin_management.js';\r\n        s.onload = function(){ cb && cb(); };\r\n        document.head.appendChild(s);\r\n      } catch(_) { }\r\n    }\r\n    ensureAdminJS(function(){ try { window.initAdminManagement && window.initAdminManagement(); } catch(_){ } });\r\n    try { if (window.history && window.history.pushState) { window.history.pushState({ page: 'admin_mgmt' }, '', ADMIN_PREFIX + '/Admin_management/'); } } catch(e){ }\r\n    if (typeof window.setActiveSidebar === 'function') { window.setActiveSidebar(ADMIN_PREFIX + '/Admin_management/'); }\r\n    window.toggleSidebar && window.toggleSidebar(false);\r\n    window.showNotification && window.showNotification('Admin Management', 'info');\r\n    window.updateAriaStatus && window.updateAriaStatus('Admin management loaded');\r\n  } catch (e) {\r\n    window.updateAriaStatus && window.updateAriaStatus('Failed to load admin management');\r\n    window.location.href = ADMIN_PREFIX + '/Admin_management/';\r\n  } finally { window.stopLoading && window.stopLoading(); }\r\n};\r\n\r\n// DOMContentLoaded bindings and navigation intercepts\r\ndocument.addEventListener('DOMContentLoaded', function(){\r\n  try {\r\n    // Bind dark mode toggle button\r\n    var themeBtn = document.getElementById('themeToggle');\r\n    if (themeBtn && !themeBtn.getAttribute('data-csp-bound')){\r\n      themeBtn.addEventListener('click', function(ev){\r\n        ev.preventDefault();\r\n        try {\r\n          var isDark = document.documentElement.classList.contains('dark');\r\n          var next = isDark ? 'light' : 'dark';\r\n          if (typeof window.__setTheme === 'function') window.__setTheme(next);\r\n          window.updateAriaStatus && window.updateAriaStatus(next === 'dark' ? 'Dark mode enabled' : 'Dark mode disabled');\r\n        } catch(_){}\r\n      });\r\n      themeBtn.setAttribute('data-csp-bound','1');\r\n    }\r\n  } catch(_){}\r\n\r\n  try {\r\n    var tablesLink = document.querySelector(\"a[href='/dashboard/tables/']\");\r\n    if (tablesLink){\r\n      tablesLink.addEventListener('click', function(ev){\r\n        if (typeof window.loadTables === 'function'){\r\n          ev.preventDefault();\r\n          window.loadTables();\r\n        }\r\n      });\r\n    }\r\n    try {\r\n      var adminLink = document.querySelector(\"a[href='\" + ADMIN_PREFIX + \"/Admin_management/']\");\r\n      if (adminLink){\r\n        adminLink.addEventListener('click', function(ev){\r\n          if (typeof window.loadAdminManagement === 'function'){\r\n            ev.preventDefault();\r\n            window.loadAdminManagement();\r\n          }\r\n        });\r\n      }\r\n    } catch(_) { }\r\n  } catch(e){ }\r\n\r\n  // Header controls\r\n  try {\r\n    // Initialize Dashboard Data Overview chart if present\r\n    (function initDashboardChartOnLoad(){\r\n      try {\r\n        var host = document.getElementById('chart-table-distribution');\r\n        if (host && typeof window.initDashboardCharts === 'function') {\r\n          window.initDashboardCharts();\r\n        }\r\n        var donutsHost = document.getElementById('donut-cards');\r\n        if (donutsHost && typeof window.initDashboardDonuts === 'function') {\r\n          window.initDashboardDonuts();\r\n        }\r\n        var btn = document.getElementById('dashboardChartRefresh');\r\n        if (btn) btn.addEventListener('click', function(){ if (typeof window.refreshDashboardCharts === 'function') window.refreshDashboardCharts(); });\r\n        // Optional WebSocket live updates\r\n        if (typeof window.initDashboardStatsWS === 'function') window.initDashboardStatsWS();\r\n      } catch(_){ }\r\n    })();\r\n\r\n    var nb = document.getElementById('notifBtn');\r\n    if (nb && !nb.getAttribute('data-csp-bound')) {\r\n      try { nb.removeAttribute('onclick'); } catch(_){ }\r\n      nb.setAttribute('data-csp-bound','1');\r\n    }\r\n  } catch(_) { }\r\n\r\n  try {\r\n    var userMenu = document.getElementById('userMenu');\r\n    var userBtn = userMenu ? userMenu.previousElementSibling : null;\r\n    if (userMenu && userBtn && !userBtn.getAttribute('data-csp-bound')){\r\n      try { userBtn.removeAttribute('onclick'); } catch(_){ }\r\n      userBtn.addEventListener('click', function(ev){\r\n        ev.preventDefault();\r\n        var hidden = userMenu.classList.contains('hidden');\r\n        if (hidden) { userMenu.classList.remove('hidden'); }\r\n        else { userMenu.classList.add('hidden'); }\r\n        try { userBtn.setAttribute('aria-expanded', hidden ? 'true' : 'false'); } catch(_){}\r\n      });\r\n      document.addEventListener('click', function(e){\r\n        try {\r\n          if (!userMenu.contains(e.target) && !userBtn.contains(e.target)) {\r\n            userMenu.classList.add('hidden');\r\n            userBtn.setAttribute('aria-expanded','false');\r\n          }\r\n        } catch(_){ }\r\n      });\r\n      document.addEventListener('keydown', function(e){ if (e.key === 'Escape') { try { userMenu.classList.add('hidden'); userBtn.setAttribute('aria-expanded','false'); } catch(_){ } } });\r\n      userBtn.setAttribute('data-csp-bound','1');\r\n    }\r\n  } catch(_) { }\r\n\r\n  try {\r\n    var sbBtn = document.querySelector('header [aria-controls=\"sidebar\"]');\r\n    if (sbBtn && !sbBtn.getAttribute('data-csp-bound')){\r\n      try { sbBtn.removeAttribute('onclick'); } catch(_){ }\r\n      sbBtn.addEventListener('click', function(ev){ ev.preventDefault(); if (typeof window.toggleSidebar === 'function') window.toggleSidebar(true); });\r\n      sbBtn.setAttribute('data-csp-bound','1');\r\n    }\r\n  } catch(_) { }\r\n\r\n  try {\r\n    if (typeof window.setActiveSidebar === 'function') { window.setActiveSidebar(window.location.pathname); }\r\n  } catch (e) { }\r\n\r\n  try {\r\n    window.addEventListener('popstate', function(){\r\n      try {\r\n        if (location.pathname === '/dashboard/tables/'){\r\n          if (typeof window.loadTables === 'function') window.loadTables();\r\n          if (typeof window.setActiveSidebar === 'function') { window.setActiveSidebar('/dashboard/tables/'); }\r\n        } else if (location.pathname === '/dashboard/') {\r\n          if (window.__tablesAutoTimer) { try { clearInterval(window.__tablesAutoTimer); } catch(_){} window.__tablesAutoTimer = null; }\r\n          if (typeof window.setActiveSidebar === 'function') { window.setActiveSidebar('/dashboard/'); }\r\n          window.location.href = '/dashboard/';\r\n        }\r\n      } catch (e) { }\r\n    });\r\n  } catch (e) { }\r\n\r\n  try { if (window.__tablesAutoTimer) { clearInterval(window.__tablesAutoTimer); window.__tablesAutoTimer = null; } } catch(_){ }\r\n\r\n  try {\r\n    document.addEventListener('keydown', function(ev){\r\n      try {\r\n        var t = ev.target && ev.target.closest && ev.target.closest('.user-profile-card');\r\n        if (!t) return;\r\n        if (ev.key === 'Enter' || ev.key === ' '){\r\n          ev.preventDefault();\r\n          if (typeof window.loadAdminProfile === 'function') window.loadAdminProfile();\r\n        }\r\n      } catch(_){}\r\n    });\r\n  } catch(_) { }\r\n\r\n  try {\r\n    document.addEventListener('click', function(ev){\r\n      var target = ev.target;\r\n      var overlay = target && (target.id === 'sidebar-overlay' ? target : target.closest && target.closest('#sidebar-overlay'));\r\n      if (overlay) { ev.preventDefault(); if (typeof window.toggleSidebar === 'function') window.toggleSidebar(false); return; }\r\n      // Handle status dropdown FIRST so clicks inside it don't bubble to profile card navigation\r\n      var trigger = target && (target.closest && target.closest('.status-trigger'));\r\n      if (trigger) {\r\n        ev.preventDefault();\r\n        var dd = document.getElementById('status-dropdown-menu');\r\n        if (dd){\r\n          var willOpen = dd.classList.contains('hidden');\r\n          dd.classList.toggle('hidden');\r\n          try { trigger.setAttribute('aria-expanded', willOpen ? 'true' : 'false'); } catch(_){ }\r\n          if (willOpen){\r\n            // Initialize menu items tabindex and selected state\r\n            var items = dd.querySelectorAll('button[role=\"menuitemradio\"]');\r\n            var currentText = (document.getElementById('current-status') || {}).textContent || '';\r\n            for (var i=0;i<items.length;i++){\r\n              items[i].setAttribute('tabindex', '-1');\r\n              var val = items[i].getAttribute('data-status');\r\n              var checked = (currentText.toLowerCase().indexOf(val) >= 0);\r\n              items[i].setAttribute('aria-checked', checked ? 'true' : 'false');\r\n            }\r\n            if (items && items[0]) { items[0].focus(); }\r\n          } else {\r\n            try { trigger.focus(); } catch(_){ }\r\n          }\r\n        }\r\n        return;\r\n      }\r\n      // Prevent profile card navigation when clicking inside the status dropdown region\r\n      var profileCard = target && (target.closest && target.closest('.user-profile-card'));\r\n      if (profileCard && !(target.closest && (target.closest('.status-dropdown') || target.closest('#status-dropdown-menu')))) {\r\n        ev.preventDefault(); if (typeof window.loadAdminProfile === 'function') window.loadAdminProfile(); return; }\r\n      var changeBtn = target && (target.closest && target.closest('#status-dropdown-menu button'));\r\n      if (changeBtn) {\r\n        ev.preventDefault();\r\n        var txt = (changeBtn.textContent || '').toLowerCase();\r\n        var status = txt.indexOf('unavailable') >= 0 ? 'unavailable' : 'available';\r\n        try {\r\n          var statusSpan = document.getElementById('current-status');\r\n          var dropdown = document.getElementById('status-dropdown-menu');\r\n          if (statusSpan){\r\n            statusSpan.textContent = '';\r\n            const dot = document.createElement('span');\r\n            dot.className = 'w-2 h-2 me-1 rounded-full';\r\n            const text = document.createTextNode(status === 'available' ? 'Available' : 'Unavailable');\r\n            if (status === 'available') {\r\n              statusSpan.className = 'inline-flex items-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 text-xs font-medium px-2.5 py-0.5 rounded-full';\r\n              dot.classList.add('bg-green-500');\r\n            } else {\r\n              statusSpan.className = 'inline-flex items-center bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-300 text-xs font-medium px-2.5 py-0.5 rounded-full';\r\n              dot.classList.add('bg-red-500');\r\n            }\r\n            statusSpan.appendChild(dot);\r\n            statusSpan.appendChild(text);\r\n          }\r\n        \r\n  // Update aria-checked across items\r\n          try {\r\n            var all = document.querySelectorAll('#status-dropdown-menu button[role=\"menuitemradio\"]');\r\n            for (var j=0;j<all.length;j++){\r\n              var v = all[j].getAttribute('data-status');\r\n              all[j].setAttribute('aria-checked', v === status ? 'true' : 'false');\r\n            }\r\n          } catch(_){ }\r\n          if (dropdown) dropdown.classList.add('hidden');\r\n          try {\r\n            var trig = document.querySelector('.status-trigger');\r\n            if (trig){ trig.setAttribute('aria-expanded','false'); trig.focus(); }\r\n          } catch(_){ }\r\n        } catch(_){ }\r\n        return;\r\n      }\r\n    });\r\n    document.addEventListener('click', function(e){\r\n      try {\r\n        var dropdown = document.getElementById('status-dropdown-menu');\r\n        var trigger2 = document.querySelector('.status-trigger');\r\n        if (!dropdown || !trigger2) return;\r\n        if (!trigger2.contains(e.target) && !dropdown.contains(e.target)){\r\n          dropdown.classList.add('hidden');\r\n          try { trigger2.setAttribute('aria-expanded','false'); } catch(_){ }\r\n        }\r\n      } catch(_){ }\r\n    });\r\n  } catch(_) { }\r\n});\r\n\r\n// Sidebar active/highlight helper\r\nwindow.setActiveSidebar = function(targetPath){\r\n  try {\r\n    var aside = document.getElementById('sidebar');\r\n    if (!aside) return;\r\n    var links = aside.querySelectorAll('a[href]');\r\n    var path = (targetPath || '').replace(/\\/$/, '/') || '/';\r\n    links.forEach(function(a){\r\n      a.classList.remove('bg-gray-100');\r\n      a.removeAttribute('aria-current');\r\n    });\r\n    links.forEach(function(a){\r\n      try {\r\n        var href = a.getAttribute('href') || '';\r\n        var u = new URL(href, window.location.origin);\r\n        var ap = (u.pathname || '').replace(/\\/$/, '/') || '/';\r\n        if (ap === path) {\r\n          a.classList.add('bg-gray-100');\r\n          // Also add dark-mode active background for clarity\r\n          a.classList.add('dark:bg-gray-800');\r\n          a.setAttribute('aria-current', 'page');\r\n        }\r\n      } catch (_) { }\r\n    });\r\n  } catch (_) { }\r\n};\r\n\r\n// Ensure fixed sidebar does not overlap the footer\r\n(function(){\r\n  function adjustSidebarBottom(){\r\n    try {\r\n      var aside = document.getElementById('sidebar');\r\n      var footer = document.querySelector('footer');\r\n      if (!aside || !footer) return;\r\n      var fr = footer.getBoundingClientRect();\r\n      var vpH = window.innerHeight || document.documentElement.clientHeight;\r\n      var visible = fr.top < vpH;\r\n      if (visible) {\r\n        var h = Math.max(footer.offsetHeight || 0, 0);\r\n        aside.style.bottom = h + 'px';\r\n      } else {\r\n        aside.style.bottom = '0px';\r\n      }\r\n    } catch(_){ }\r\n  }\r\n  var _raf;\r\n  function onScrollResize(){\r\n    if (_raf) cancelAnimationFrame(_raf);\r\n    _raf = requestAnimationFrame(adjustSidebarBottom);\r\n  }\r\n  window.addEventListener('scroll', onScrollResize, { passive: true });\r\n  window.addEventListener('resize', onScrollResize);\r\n  try { new ResizeObserver(adjustSidebarBottom).observe(document.querySelector('footer')); } catch(_){ }\r\n  document.addEventListener('DOMContentLoaded', adjustSidebarBottom);\r\n  setTimeout(adjustSidebarBottom, 0);\r\n})();\r\n"],
  "mappings": "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",
  "names": ["c", "m", "h", "hi", "ADMIN_PREFIX", "AUTH_BASE", "getPreferredTheme", "stored", "applyTheme", "theme", "root", "body", "btn", "sun", "moon", "setTheme", "mql", "e", "__bindThemeToggle", "getCurrent", "next", "t", "isPressed", "init", "msg", "el", "proto", "url", "ws", "ev", "parseStats", "host", "isDark", "clear", "render", "data", "rect", "width", "height", "pad", "innerW", "innerH", "labels", "d", "values", "max", "svg", "g", "cols", "th", "i", "x", "gl", "barGap", "barH", "j", "v", "w", "y", "rectBar", "txt", "val", "onResize", "_origSetTheme", "mode", "res", "json", "donuts", "wrapper", "pick", "label", "s", "summarize", "sums", "k", "renderDonut", "hostId", "value", "total", "color", "size", "radius", "stroke", "cx", "cy", "track", "pct", "arc", "_origSetTheme2", "qs", "id", "initials", "name", "esc", "cardFor", "li", "avatar", "img", "dot", "ping", "info", "line", "act", "fetchOnline", "list", "ul", "empty", "frag", "a", "refresh", "start", "rs", "main", "calc", "aside", "footer", "fr", "vpH", "visible", "raf", "on", "key", "map", "initTables", "ensureDashReady", "cb", "existing", "picker", "loadBtn", "refreshBtn", "initial", "openList", "displayBtn", "closeList", "toggleList", "setSelected", "select", "text", "items", "labelEl", "cards", "tid", "h2", "sel", "pausedUntil", "_hdr", "html", "already", "force", "overlay", "currentlyHidden", "open", "container", "editBtn", "cancelBtn", "avatarInput", "avatarInputEdit", "editForm", "pwdForm", "birthInput", "profileAvatarEl", "sidebarCard", "sidebarHolder", "sidebarImg", "newUrl", "simg", "form", "formData", "_tok", "input", "fd", "card", "holder", "_fetch", "n", "fmt", "parse", "sameDay", "b", "grid", "year", "current", "month", "title", "first", "isOther", "selected", "dd", "close", "position", "onEsc", "onDoc", "r", "pr", "initialType", "header", "prev", "weekdays", "wk", "ensureAdminJS", "themeBtn", "tablesLink", "adminLink", "donutsHost", "nb", "userMenu", "userBtn", "hidden", "sbBtn", "target", "trigger", "willOpen", "currentText", "checked", "profileCard", "changeBtn", "status", "statusSpan", "dropdown", "all", "trig", "trigger2", "targetPath", "links", "path", "href", "u", "ap", "adjustSidebarBottom", "_raf", "onScrollResize"]
}
