(()=>{(function(){try{if(!window.__loginUrl){var a=document.getElementById("auth-urls");a&&(window.__loginUrl=a.getAttribute("data-login-url")||window.__loginUrl)}}catch{}function m(e){try{return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(e).toLowerCase())}catch{return!1}}function u(e){e.preventDefault();var o=e.target,t=document.getElementById("signupMsg");t&&(t.className="mt-3 text-sm",t.textContent="");var n=new FormData(o),c=(n.get("username")||"").toString().trim(),s=(n.get("email")||"").toString().trim(),d=(n.get("password")||"").toString(),l=(n.get("password_confirm")||"").toString();if(!c||!s||!d||!l){t&&(t.className="mt-3 text-sm text-red-700 dark:text-red-400",t.textContent="Please fill in all fields.");return}if(!m(s)){t&&(t.className="mt-3 text-sm text-red-700 dark:text-red-400",t.textContent="Please enter a valid email address.");return}if(d!==l){t&&(t.className="mt-3 text-sm text-red-700 dark:text-red-400",t.textContent="Passwords do not match.");return}var f=typeof window.signupUser=="function"?window.signupUser(n):Promise.resolve({success:!1,error:"signupUser() not available"});f.then(function(r){if(r&&r.success){t&&(t.className="mt-3 text-sm text-green-700 dark:text-green-400",t.textContent="Account created. Please sign in.");try{window.location.href=window.__loginUrl||"/auth/login/"}catch{}}else{var g=r&&(r.error||r.errors&&JSON.stringify(r.errors))||"Signup failed";t&&(t.className="mt-3 text-sm text-red-700 dark:text-red-400",t.textContent=g)}}).catch(function(){t&&(t.className="mt-3 text-sm text-red-700 dark:text-red-400",t.textContent="Network error")})}function i(){var e=document.getElementById("signupForm");e&&!e.__bound&&(e.addEventListener("submit",u),e.__bound=!0)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()})();})();
//# sourceMappingURL=auth_signup.js.map
