{% comment %} Client Portal Sidebar Partial - mirrors super-admin sidebar visuals and behavior {% endcomment %}
<!-- Mobile, in-flow collapsible sidebar -->
<aside class="md:hidden">
  <div class="sticky top-24 md:top-28">
    <nav class="p-4 rounded-2xl border border-gray-200 dark:border-[#2a2a2a] bg-white dark:bg-[#1f1f1f] shadow-sm" role="navigation" aria-label="Portal Sidebar">
      <button id="sidebarToggle" class="w-full justify-between inline-flex items-center px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800">
        <span class="font-semibold">Menu</span>
        <svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.17l3.71-3.94a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd"/></svg>
      </button>
      {% with rm=request.resolver_match %}
      <ul id="sidebarList" class="mt-2 space-y-2">
        <li>
          <a href="{% url 'client_portal:customer_dashboard' %}" class="flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400 dark:focus-visible:ring-offset-gray-900 {% if rm and rm.namespace == 'client_portal' and rm.url_name == 'customer_dashboard' %}text-gray-900 dark:text-gray-100 bg-gray-100 dark:bg-gray-800{% else %}text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800{% endif %}">
            <svg class="w-5 h-5 mr-3" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M3 10.5l9-7 9 7V20a1 1 0 01-1 1h-4a1 1 0 01-1-1v-5H9v5a1 1 0 01-1 1H4a1 1 0 01-1-1v-9.5z"/></svg>
            Bookings
            <span id="badge-bookings" class="ml-2 inline-block w-2 h-2 rounded-full bg-pink-500 invisible" aria-hidden="true"></span>
          </a>
        </li>
        <li>
          <a href="{% url 'client_portal:client_profile' %}" {% if rm and rm.namespace == 'client_portal' and rm.url_name == 'client_profile' %}aria-current="page"{% endif %}
             class="flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400 dark:focus-visible:ring-offset-gray-900 {% if rm and rm.namespace == 'client_portal' and rm.url_name == 'client_profile' %}text-gray-900 dark:text-gray-100 bg-gray-100 dark:bg-gray-800{% else %}text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800{% endif %}">
            <svg class="w-5 h-5 mr-3" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/></svg>
            Profile Overview
          </a>
        </li>
        <li>
          <a href="{% url 'client_portal:artist_apply' %}" class="flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400 dark:focus-visible:ring-offset-gray-900">
            <svg class="w-5 h-5 mr-3" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2a1 1 0 011 1v6h6a1 1 0 110 2h-6v6a1 1 0 11-2 0v-6H5a1 1 0 110-2h6V3a1 1 0 011-1z"/></svg>
            Apply as Artist
            <span id="badge-reapply" class="ml-2 inline-block w-2 h-2 rounded-full bg-emerald-500 invisible" aria-hidden="true"></span>
          </a>
        </li>
        <li>
          <a href="{% url 'client_portal:client_logout' %}" class="flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400 dark:focus-visible:ring-offset-gray-900">
            <svg class="w-5 h-5 mr-3" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M3 4.75A1.75 1.75 0 014.75 3h6.5A1.75 1.75 0 0113 4.75V7a.75.75 0 001.5 0V4.75A3.25 3.25 0 0011.25 1.5h-6.5A3.25 3.25 0 001.5 4.75v14.5A3.25 3.25 0 004.75 22.5h6.5A3.25 3.25 0 0014.5 19.25V17a.75.75 0 00-1.5 0v2.25a1.75 1.75 0 01-1.75 1.75h-6.5A1.75 1.75 0 013 19.25V4.75z" clip-rule="evenodd"/><path d="M15.47 8.47a.75.75 0 011.06 0l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06L17.44 13H9.75a.75.75 0 010-1.5h7.69l-1.97-1.97a.75.75 0 010-1.06z"/></svg>
            Logout
          </a>
        </li>
      </ul>
      {% endwith %}
    </nav>
  </div>
</aside>

<!-- Desktop fixed sidebar (md+) like super-admin -->
<aside class="hidden md:block fixed left-0 top-24 md:top-28 bottom-0 w-64 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 shadow-sm z-30" aria-label="Sidebar Navigation">
  <div class="h-full px-4 pt-4 pb-4 overflow-y-auto">
    <nav class="p-4 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm" role="navigation" aria-label="Portal Sidebar (Desktop)">
      {% with rm=request.resolver_match %}
      <ul class="space-y-2">
        <li>
          <a href="{% url 'client_portal:customer_dashboard' %}" class="flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400 dark:focus-visible:ring-offset-gray-900 {% if rm and rm.namespace == 'client_portal' and rm.url_name == 'customer_dashboard' %}text-gray-900 dark:text-gray-100 bg-gray-100 dark:bg-gray-800{% else %}text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800{% endif %}">
            <svg class="w-5 h-5 mr-3" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M3 10.5l9-7 9 7V20a1 1 0 01-1 1h-4a1 1 0 01-1-1v-5H9v5a1 1 0 01-1 1H4a1 1 0 01-1-1v-9.5z"/></svg>
            Bookings
            <span id="badge-bookings" class="ml-2 inline-block w-2 h-2 rounded-full bg-pink-500 invisible" aria-hidden="true"></span>
          </a>
        </li>
        <li>
          <a href="{% url 'client_portal:client_profile' %}" {% if rm and rm.namespace == 'client_portal' and rm.url_name == 'client_profile' %}aria-current="page"{% endif %}
             class="flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400 dark:focus-visible:ring-offset-gray-900 {% if rm and rm.namespace == 'client_portal' and rm.url_name == 'client_profile' %}text-gray-900 dark:text-gray-100 bg-gray-100 dark:bg-gray-800{% else %}text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800{% endif %}">
            <svg class="w-5 h-5 mr-3" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/></svg>
            Profile Overview
          </a>
        </li>
        <li>
          <a href="{% url 'client_portal:artist_apply' %}" class="flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400 dark:focus-visible:ring-offset-gray-900">
            <svg class="w-5 h-5 mr-3" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2a1 1 0 011 1v6h6a1 1 0 110 2h-6v6a1 1 0 11-2 0v-6H5a1 1 0 110-2h6V3a1 1 0 011-1z"/></svg>
            Apply as Artist
          </a>
        </li>
        <li>
          <a href="{% url 'client_portal:client_logout' %}" class="flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-400 dark:focus-visible:ring-offset-gray-900">
            <svg class="w-5 h-5 mr-3" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M3 4.75A1.75 1.75 0 014.75 3h6.5A1.75 1.75 0 0113 4.75V7a.75.75 0 001.5 0V4.75A3.25 3.25 0 0011.25 1.5h-6.5A3.25 3.25 0 001.5 4.75v14.5A3.25 3.25 0 004.75 22.5h6.5A3.25 3.25 0 0014.5 19.25V17a.75.75 0 0 0-1.5 0v2.25a1.75 1.75 0 0 1-1.75 1.75h-6.5A1.75 1.75 0 0 1 3 19.25V4.75z" clip-rule="evenodd"/><path d="M15.47 8.47a.75.75 0 0 1 1.06 0l3.5 3.5a.75.75 0 0 1 0 1.06l-3.5 3.5a.75.75 0 1 1-1.06-1.06L17.44 13H9.75a.75.75 0 0 1 0-1.5h7.69l-1.97-1.97a.75.75 0 0 1 0-1.06z"/></svg>
            Logout
          </a>
        </li>
      </ul>
      {% endwith %}
    </nav>
  </div>
</aside>

<!-- Grid spacer so main content doesn't overlap fixed sidebar on md+ -->
<div class="hidden md:block md:col-span-3" aria-hidden="true"></div>
